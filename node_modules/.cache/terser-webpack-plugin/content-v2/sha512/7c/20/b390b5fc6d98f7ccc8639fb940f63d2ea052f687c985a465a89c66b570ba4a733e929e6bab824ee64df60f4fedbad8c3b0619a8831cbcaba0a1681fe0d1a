{"map":"{\"version\":3,\"sources\":[\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\node_modules\\\\url-loader\\\\dist\\\\cjs.js??ref--6-oneOf-0!C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\media\\\\psych_logo.jpg\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\Quest.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\actions\\\\data.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\containers\\\\Welcome.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\containers\\\\Instructions.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\Stim.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\containers\\\\Trial.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\containers\\\\NotFound.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\containers\\\\Complete.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\containers\\\\TrialQ.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\Routes.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\App.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\reducers\\\\data.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\reducers\\\\index.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\configureStore.js\",\"C:\\\\Users\\\\Alika\\\\Desktop\\\\VCH_APP\\\\src\\\\index.js\"],\"names\":[\"module\",\"exports\",\"__webpack_require__\",\"p\",\"isEmpty\",\"arrayArg\",\"undefined\",\"length\",\"QuestCreate\",\"tGuess\",\"tGuessSd\",\"pThreshold\",\"beta\",\"delta\",\"gamma\",\"grain\",\"range\",\"plotIt\",\"nargin\",\"arguments\",\"dim\",\"Error\",\"Math\",\"ceil\",\"isFinite\",\"isNaN\",\"newQ\",\"updatePdf\",\"warnPdf\",\"normalizePdf\",\"xThreshold\",\"i\",\"x\",\"x2\",\"p2\",\"s2\",\"intensity\",\"response\",\"trialCount\",\"quantileOrder\",\"makeQ\",\"q\",\"math\",\"require\",\"console\",\"log\",\"push\",\"map\",\"tempA\",\"tempB\",\"pow\",\"pdf\",\"exp\",\"sumPDF\",\"sumVector\",\"i2\",\"eval\",\"min\",\"max\",\"apply\",\"linear\",\"tempC\",\"slice\",\"array1\",\"reverse\",\"array2\",\"arrayZero\",\"Array\",\"fill\",\"k\",\"pL\",\"pH\",\"pE\",\"Number\",\"EPSILON\",\"j\",\"inten\",\"ii\",\"round\",\"h2\",\"QuestRecompute\",\"QuestUpdate\",\"low\",\"high\",\"alert\",\"QuestQuantile\",\"arr\",\"new_array\",\"reduce\",\"a\",\"b\",\"cumsum\",\"tempP\",\"unshift\",\"index\",\"findZero\",\"diff\",\"temp1\",\"subarrayIndex\",\"temp2\",\"indices\",\"v\",\"add_response_1\",\"item\",\"type\",\"payload\",\"add_response_time_1\",\"add_contrast_1\",\"add_array\",\"Welcome\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"keyFunction\",\"bind\",\"assertThisInitialized\",\"state\",\"continue\",\"event\",\"keyCode\",\"setState\",\"document\",\"addEventListener\",\"removeEventListener\",\"react_default\",\"createElement\",\"react_router\",\"to\",\"className\",\"href\",\"title\",\"target\",\"rel\",\"src\",\"logo\",\"alt\",\"Component\",\"connect\",\"data\",\"dispatch\",\"elem\",\"Instructions\",\"createStim\",\"stim\",\"background\",\"angle\",\"floor\",\"random\",\"imsize\",\"initcontrast\",\"threshold\",\"phases\",\"phase\",\"alpha\",\"ppd\",\"frequency\",\"createGabor\",\"contrast\",\"xs\",\"ys\",\"y\",\"patch\",\"cos\",\"PI\",\"sin\",\"Trial\",\"create_noise\",\"counter\",\"responses_1\",\"contrast_array_1\",\"response_time_1\",\"ratings_1\",\"responses_2\",\"contrast_array_2\",\"response_time_2\",\"ratings_2\",\"time_window\",\"time_window_start\",\"time_window_rating\",\"limit\",\"contrast_flag\",\"canvasRef\",\"React\",\"createRef\",\"audioContext\",\"AudioContext\",\"callback\",\"stimulus\",\"tt1\",\"end\",\"contrast_block\",\"simplex\",\"canvas\",\"getElementById\",\"ctx\",\"getContext\",\"imgdata\",\"getImageData\",\"width\",\"height\",\"t\",\"stimulus_blank\",\"jitter\",\"start_time\",\"intervalId\",\"that\",\"generate_noise\",\"_generate_noise\",\"asyncToGenerator\",\"regenerator_default\",\"mark\",\"_callee\",\"seconds\",\"r\",\"recWidth\",\"recHeight\",\"xPos\",\"yPos\",\"img\",\"g\",\"wrap\",\"_context\",\"prev\",\"next\",\"Date\",\"getTime\",\"beep\",\"noise3D\",\"concat\",\"putImageData\",\"Image\",\"fillStyle\",\"fillRect\",\"drawImage\",\"window\",\"cancelAnimationFrame\",\"close\",\"abrupt\",\"requestAnimationFrame\",\"stop\",\"id\",\"style\",\"zIndex\",\"position\",\"left\",\"element\",\"amp\",\"freq\",\"ms\",\"osc\",\"createOscillator\",\"gain\",\"createGain\",\"value\",\"destination\",\"start\",\"currentTime\",\"containers_NotFound\",\"Complete\",\"d\",\"idx\",\"key\",\"listStyleType\",\"contrast_1\",\"TrialQ\",\"counter2\",\"change\",\"rating_window\",\"currentQ\",\"index1\",\"index2\",\"total\",\"q_1\",\"q_2\",\"Routes\",\"path\",\"exact\",\"component\",\"NotFound\",\"App\",\"initialState\",\"contrast_2\",\"test\",\"rtReducer\",\"action\",\"objectSpread\",\"toConsumableArray\",\"rootReducer\",\"history\",\"combineReducers\",\"router\",\"connectRouter\",\"createBrowserHistory\",\"store\",\"preloadedState\",\"composeEnhancer\",\"__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\",\"compose\",\"createStore\",\"createRootReducer\",\"applyMiddleware\",\"routerMiddleware\",\"configureStore\",\"ReactDOM\",\"render\",\"es\",\"react_router_dom\",\"basename\",\"process\",\"src_App_0\"],\"mappings\":\"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\",\"sourcesContent\":[\"module.exports = __webpack_public_path__ + \\\"static/media/psych_logo.6956dbda.jpg\\\";\",\"import { isArray } from 'util';\\r\\n\\r\\nexport function isEmpty( arrayArg ){\\r\\n    if (arrayArg === undefined || arrayArg.length == 0) {\\r\\n        return true;\\r\\n    }\\r\\n    else{\\r\\n        return false;\\r\\n    }\\r\\n}\\r\\n\\r\\nexport function makeQ( tGuess, tGuessSd, pThreshold, beta, delta, gamma, grain, dim ){\\r\\n    var newQ = {\\r\\n        updatePdf: 1, //boolean: 0 for no, 1 for yes\\r\\n        warnPdf: 1,  //boolean\\r\\n        normalizePdf: 1,  //boolean. This adds a few ms per call to QuestUpdate, but otherwise the pdf will underflow after about 1000 trials.\\r\\n        tGuess: tGuess,\\r\\n        tGuessSd: tGuessSd,\\r\\n        pThreshold: pThreshold,\\r\\n        xThreshold: 0, \\r\\n        beta: beta,\\r\\n        delta: delta,\\r\\n        gamma: gamma,\\r\\n        grain: grain,\\r\\n        dim: dim,\\r\\n        i: [],\\r\\n        x: [], \\r\\n        x2: [],\\r\\n        p2: [],\\r\\n        s2: [], //have to make an array of arrays due to lack of multidimensional array support\\r\\n        intensity: [], \\r\\n        response: [],\\r\\n        trialCount: 0,\\r\\n        quantileOrder: 0, \\r\\n    };\\r\\n\\r\\n    return newQ; \\r\\n}\\r\\n\\r\\nexport function QuestCreate( tGuess, tGuessSd, pThreshold, beta, delta, gamma, grain, range, plotIt ){\\r\\n\\r\\n    let nargin = arguments.length;\\r\\n    let dim = 0;\\r\\n    \\r\\n    if(nargin > 9 || nargin < 6){\\r\\n        throw new Error(\\\"Incorrect number of arguments\\\");\\r\\n    }\\r\\n    if( nargin < 7 || isEmpty( grain ) ){\\r\\n        grain = 0.01000;\\r\\n    }\\r\\n\\r\\n    if( true ){\\r\\n        if( nargin < 8 || isEmpty( range ) ){\\r\\n            dim = 500;\\r\\n        }\\r\\n        else{\\r\\n            if( range <= 0 ){\\r\\n                throw new Error(\\\"Range must be greater than 0\\\");\\r\\n            }\\r\\n            dim = range / grain;\\r\\n            dim = 2 * Math.ceil( dim / 2 );\\r\\n        }\\r\\n    }\\r\\n\\r\\n    if( nargin < 9 || isEmpty( plotIt )) {\\r\\n        plotIt = 0;\\r\\n    }\\r\\n\\r\\n    // Double check here if there are number errors \\r\\n    if( !(isFinite( tGuess )) || (isNaN( tGuess )) ){\\r\\n        throw new Error( \\\"tGuess must be real and finite\\\" );\\r\\n    }\\r\\n    \\r\\n    var newQ = makeQ( tGuess, tGuessSd, pThreshold, beta, delta, gamma, grain, dim );\\r\\n    newQ = QuestRecompute( newQ, plotIt );\\r\\n\\r\\n    return newQ;\\r\\n}\\r\\n\\r\\nexport function QuestRecompute( q, plotIt ) {\\r\\n\\r\\n    const math = require('mathjs');\\r\\n\\r\\n    if( arguments.length < 1 ){\\r\\n        throw new Error(\\\"Usage: QuestRecompute( q, plotIt = 0 )\\\");\\r\\n    }\\r\\n\\r\\n    //if the struct contains more than one struct as an array then you must set normalizePdf of each to 0. \\r\\n\\r\\n    if( !q.updatePdf ){\\r\\n        return\\r\\n    }\\r\\n\\r\\n    if( q.gamma > q.pThreshold ){\\r\\n        console.log(\\\"Reducing gamma from %.2f to 0.5\\\");\\r\\n        q.gamma = 0.5; \\r\\n    }\\r\\n\\r\\n    if( arguments.length < 2 || isEmpty( plotIt ) ){\\r\\n        plotIt = 0; \\r\\n    }\\r\\n\\r\\n    q.i = [];\\r\\n    q.x = []; \\r\\n    q.x2 = [];\\r\\n    q.p2 = [];\\r\\n    q.s2 = []; //have to make an array of arrays due to lack of multidimensional array support\\r\\n\\r\\n\\r\\n    for(var i = -q.dim/2; i <= q.dim/2; i++){\\r\\n        q.i.push( i );  \\r\\n    };\\r\\n\\r\\n    q.x = q.i.map( function( x ) { return x * q.grain; });\\r\\n\\r\\n    let tempA = q.x.map( function( x ) { return x / q.tGuessSd; });\\r\\n    let tempB = tempA.map( function ( x ) { return Math.pow( x, 2 ); });\\r\\n\\r\\n    q.pdf = (tempB.map( function ( x ) { return x * -0.5; })).map( function ( x ) { return Math.exp( x ); });;\\r\\n    let sumPDF = sumVector(q.pdf); \\r\\n    q.pdf = q.pdf.map( function( x ) { return x / sumPDF; });\\r\\n\\r\\n\\r\\n    let i2 = []; \\r\\n    for( i = -q.dim; i <= q.dim; i++){\\r\\n        i2.push(i);  \\r\\n    }\\r\\n    q.x2 = i2.map( function( x ) {return (math.eval(x + \\\"*\\\" + q.grain));}); \\r\\n\\r\\n    tempA = q.x2.map( function( x ) { return (math.eval(x + \\\"*\\\" + q.beta)); }); \\r\\n\\r\\n    q.p2 = tempA.map( function( x ) { \\r\\n        // results are slightly off from the ten thousands place increasing to the hundreths place by .01 at times;\\r\\n        return ( math.eval( q.delta + \\\"*\\\" + q.gamma + \\\"+(1-\\\" + q.delta + \\\")*(1-(1-\\\" + q.gamma +\\\")*\\\" + \\\"e^(-10 ^ \\\" + x + \\\"))\\\"));\\r\\n    }); \\r\\n\\r\\n    if( plotIt > 0 ){\\r\\n        //Plot the data via package *******************************\\r\\n    }\\r\\n\\r\\n    if( Math.min(q.p2[0], q.p2[q.p2.length - 1]) > q.pThreshold || Math.max(q.p2[0], q.p2[q.p2.length - 1]) < q.pThreshold){\\r\\n        throw new Error( 'psychometric function range [' + Math.min.apply( null, q.p2 ) + \\\" \\\" +  Math.max.apply( null, q.p2 ) + ' ] omits ' + q.pThreshold + ' threshold');\\r\\n    }\\r\\n\\r\\n    var linear = require('everpolate').linear;\\r\\n        //NEED TO FIX\\r\\n    q.xThreshold= linear( q.pThreshold , q.x2, q.p2);\\r\\n\\r\\n    \\r\\n    for(var i = 0; i < q.p2.length; i++){\\r\\n        if(!isFinite(q.p2[i])){\\r\\n            throw new Error( 'psychometric function p2 is not finite' + i);\\r\\n        }\\r\\n    }\\r\\n\\r\\n    //Add check for strictly monotonic ************************\\r\\n\\r\\n    let tempC = q.p2.slice(); \\r\\n    tempC = tempC.reverse(); \\r\\n    let array1 = tempC.map( function( x ) { return 1 - x; }); \\r\\n    let array2 = tempC; \\r\\n\\r\\n    q.s2[0] = array1; \\r\\n    q.s2[1] = array2; \\r\\n\\r\\n    if( q.intensity == undefined || q.response == undefined ){\\r\\n        let arrayZero = new Array(10000).fill(0); \\r\\n        q.trialCount = 0;\\r\\n        q.intensity = arrayZero;\\r\\n        q.response = arrayZero;\\r\\n    }   \\r\\n\\r\\n\\r\\n    for( var k = 0; k < q.s2.length; k++){\\r\\n        for( i = 0; i < q.s2[k].length; i++){\\r\\n            if(!isFinite(q.s2[k][i])){\\r\\n                throw new Error( 'psychometric function s2 is not finite' + i);\\r\\n            }\\r\\n        }\\r\\n    }     \\r\\n    \\r\\n    let pL = q.p2[0];\\r\\n    let pH = q.p2[q.p2.length - 1];\\r\\n    let pE = pH * Math.log(pH + Number.EPSILON) - pL * Math.log( pL+Number.EPSILON ) + ( 1 - pH + Number.EPSILON) * Math.log( 1 - pH + Number.EPSILON ) - ( 1 - pL + Number.EPSILON) * Math.log( 1 - pL + Number.EPSILON);\\r\\n    pE = 1 / (1 + Math.exp( pE / ( pL - pH)));\\r\\n    q.quantileOrder= ( pE - pL ) / ( pH - pL);\\r\\n\\r\\n    for(var j = 0; j < q.pdf.length; j++){\\r\\n        if(!isFinite(q.pdf[j])){\\r\\n            throw new Error( 'prior pdf is not finite');\\r\\n        }\\r\\n    }\\r\\n\\r\\n    for(k = 0; k < q.trialCount; k++){\\r\\n        var inten = Math.max( -1e10, Math.min( 1e10 , q.intensity[k])); \\r\\n        var ii = q.i.map( function( x ) { return q.pdf.length + x - Math.round(( inten - q.tGuess ) / q.grain ); } );\\r\\n        \\r\\n        if( ii[ 0 ] < 1){\\r\\n            ii = ii.map( function( x ) { return (x + 1 - ii[ 0 ]) ; }); \\r\\n        }\\r\\n\\r\\n        if( ii[ii.length - 1] > q.s2[0].length ){\\r\\n            ii = ii.map( function( x ) { return( x + q.s2.length - ii[ii.length - 1] ); } ); \\r\\n        }\\r\\n\\r\\n        let h2 = ii.map( function( x ) { return( q.s2[q.response[k]][x] ); });\\r\\n\\r\\n        for(i = 0; i < h2.length; i++){\\r\\n            q.pdf[i] = q.pdf[i] * h2[i];\\r\\n        }\\r\\n\\r\\n\\t\\tif( q.normalizePdf == 0 && k % 100 == 0){\\r\\n            let sumPDF = sumVector(q.pdf); \\r\\n            q.pdf = q.pdf.map( function( x ) { return x / sumPDF; }); //avoid underflow; keep the pdf normalized // 3 ms\\r\\n        }\\r\\n    }\\r\\n    \\r\\n\\r\\n    if( q.normalizePdf ){\\r\\n        let sumPDF = sumVector( q.pdf ); \\r\\n        q.pdf = q.pdf.map( function( x ) { return x / sumPDF; }); //avoid underflow; keep the pdf normalized // 3 ms\\r\\n    }\\r\\n\\r\\n    for(i = 0; i < q.pdf.length; i++){\\r\\n        if(!isFinite(q.pdf[i])){\\r\\n            throw new Error( 'pdf is not finite');\\r\\n        }\\r\\n    }\\r\\n\\r\\n    return q; \\r\\n}\\r\\n\\r\\nexport function QuestUpdate( q, intensity, response ) {\\r\\n\\r\\n\\r\\n    if( arguments.length != 3){\\r\\n        throw new Error( \\\"Incorrect number of parameters (3) \\\");\\r\\n    }\\r\\n\\r\\n    if( q === undefined ){\\r\\n        throw new Error( \\\"q is undefined \\\" );\\r\\n    }\\r\\n\\r\\n    if( !(isFinite( intensity )) || (isNaN( intensity )) ){\\r\\n        throw new Error( \\\"Intensity must be real, not complex\\\" );\\r\\n    }   \\r\\n\\r\\n    if( response < 0 || response >= q.s2.length){\\r\\n        throw new Error( \\\"response \\\" + response + \\\" is out of range 0 to \\\" + q.s2.length);\\r\\n    }\\r\\n\\r\\n    if( q.updatePdf == 1 ){\\r\\n\\r\\n        var inten = Math.max( -1e10, Math.min( 1e10 , intensity)); \\r\\n        var ii = q.i.map( function( x ) { return q.pdf.length + x - Math.round(( inten - q.tGuess ) / q.grain ); } );\\r\\n\\r\\n        if( ii[ 0 ] < 1 || ii[ii.length - 1] > q.s2[0].length ){\\r\\n            if( q.warnPdf == 1 ){\\r\\n                let low= ( 1 - q.pdf.length - q.i[0] ) * q.grain + q.tGuess;\\r\\n                let high=( q.s2[0].length - q.pdf.length - q.i[q.i.length - 1] ) * q.grain + q.tGuess;\\r\\n                alert('QuestUpdate: intensity ' + inten + ' out of range ' + low + ' to ' + high + '. Pdf will be inexact. Suggest that you increase \\\"range\\\" in call to QuestCreate.');\\r\\n            }\\r\\n\\r\\n            if( ii[ 0 ] < 1){\\r\\n                ii = ii.map( function( x ) { return (x + 1 - ii[ 0 ]) ; }); \\r\\n            }\\r\\n\\r\\n            else {\\r\\n                ii = ii.map( function( x ) { return (x + q.s2[0].length - ii[ ii.length - 1]) ; }); \\r\\n            }\\r\\n        }\\r\\n\\r\\n        for(let i = 0; i < ii.length; i++){\\r\\n            q.pdf[i] = q.pdf[i] * q.s2[response][ii[i]];\\r\\n        }\\r\\n\\r\\n        if( q.normalizePdf ){\\r\\n            let sumPDF = sumVector(q.pdf); \\r\\n            q.pdf = q.pdf.map( function( x ) { return x / sumPDF; }); //avoid underflow; keep the pdf normalized // 3 ms\\r\\n        }\\r\\n    }\\r\\n\\r\\n    //keep a historical record of the trials\\r\\n    q.trialCount += 1;\\r\\n\\r\\n    if(q.trialCount > q.intensity.length){\\r\\n        // Out of space in preallocated arrays. Reallocate for additional\\r\\n        // 10000 trials. We reallocate in large chunks to reduce memory\\r\\n        // fragmentation.\\r\\n\\r\\n        for(let i = 0; i < 10000; i++){\\r\\n        q.intensity.push(0);\\r\\n        q.response.push(0);\\r\\n        }\\r\\n    }\\r\\n\\r\\n    for( let i = 0; i < q.trialCount; i++){\\r\\n\\r\\n        q.intensity[i] = 0.5; \\r\\n        q.response[i] = response; \\r\\n    }\\r\\n\\r\\n    return q; \\r\\n}\\r\\n\\r\\nexport function QuestTrials(q, binsize){\\r\\n    if( arguments.length < 1 ){\\r\\n        throw new Error('Usage: trial=QuestTrials(q,[binsize])');\\r\\n    }\\r\\n\\r\\n    if( arguments.length < 2 ){\\r\\n        binsize = []; \\r\\n    }\\r\\n\\r\\n    if( isEmpty( binsize ) || !isFinite( binsize )){\\r\\n        binsize = 0; \\r\\n    }\\r\\n\\r\\n    if( binsize < 0 ){\\r\\n        throw new Error('binsize cannot be negative');\\r\\n    }\\r\\n    \\r\\n    // sort\\r\\n    var inIntensity = q.intensity.slice(0, q.trialCount + 1);\\r\\n    var inResponse = q.response.slice(0, q.trialCount + 1);\\r\\n\\r\\n    var withIndex = [];\\r\\n    for (var i in inIntensity) {\\r\\n        withIndex.push([inIntensity[i], i]);\\r\\n    }\\r\\n    withIndex.sort(function(left, right) {\\r\\n        return left[0] < right[0] ? -1 : 1;\\r\\n        });\\r\\n\\r\\n    var indexes = [];\\r\\n    var intensity = [];\\r\\n\\r\\n    for (var j in withIndex) {\\r\\n        intensity.push(withIndex[j][0]);\\r\\n        indexes.push(withIndex[j][1]);\\r\\n    }\\r\\n\\r\\n    var response = []; \\r\\n\\r\\n    for(i = 0; i < indexes.length; i++){\\r\\n        response.push(inResponse[indexes[i]]);\\r\\n    }\\r\\n\\r\\n    //quantize\\r\\n    if( binsize > 0){\\r\\n        intensity = intensity.map(function(x) { return(Math.round( x / binsize ) * binsize); }); \\r\\n    }\\r\\n\\r\\n    // compact\\r\\n    j = 0;\\r\\n\\r\\n    var trial = {\\r\\n        intensity: [],\\r\\n        responses: [], \\r\\n    }\\r\\n\\r\\n    trial.intensity.push(intensity[0]); \\r\\n\\r\\n    for(i = 0; i < 2; i++){\\r\\n        trial.responses[i] = new Array(); \\r\\n        trial.responses[i].push(0); \\r\\n    }\\r\\n\\r\\n    for( i = 0; i < intensity.length; i++){\\r\\n        if(intensity[i] != trial.intensity[j]){\\r\\n            j += 1;\\r\\n            trial.intensity.push(intensity[i]);\\r\\n            for(i = 0; i < 2; i++){\\r\\n                trial.responses[i].push(0); \\r\\n            }\\r\\n        }\\r\\n        trial.responses[response[i]][j] = trial.responses[response[i]][j] + 1;\\r\\n    }\\r\\n\\r\\n    return trial; \\r\\n}\\r\\n\\r\\n\\r\\nexport function QuestStimulate(q, tTest, tActual, plotIt){\\r\\n    if( arguments.length < 3 ){\\r\\n        throw new Error('Usage: response=QuestSimulate(q,tTest,tActual[,plotIt])');\\r\\n    }\\r\\n\\r\\n    var linear = require('everpolate').linear\\r\\n\\r\\n    var x2min = Math.min(q.x2[0], q.x2[q.x2.length-1]);\\r\\n    var x2max = Math.max(q.x2[0], q.x2[q.x2.length-1]);\\r\\n    var t= Math.min(Math.max((tTest - tActual), x2min) , x2max);\\r\\n    var response = linear(t, q.x2, q.p2);\\r\\n\\r\\n    return response; \\r\\n}\\r\\n\\r\\n//t=QuestMean(q)\\r\\n//Get the mean threshold estimate.\\r\\n\\r\\nexport function QuestMean( q ){\\r\\n    if( arguments.length != 1 ){\\r\\n        throw new Error('Usage: t=QuestMean(q)');\\r\\n    }\\r\\n\\r\\n    let sumPDF = sumVector( q.pdf ); \\r\\n\\r\\n    let tempA = sumVector(multiplyVector(q.pdf, q.x)); \\r\\n\\r\\n    var t = q.tGuess + tempA / sumPDF;\\t// mean of our pdf\\r\\n\\r\\n    return t; \\r\\n}\\r\\n\\r\\n//[t,p]=QuestMode(q)\\r\\n//\\\"t\\\" is the mode threshold estimate\\r\\n//\\\"p\\\" is the value of the (unnormalized) pdf at t.\\r\\nexport function QuestMode( q ){\\r\\n    if( arguments.length != 1 ){\\r\\n        throw new Error('Usage: t=QuestMode(q)');\\r\\n    }\\r\\n\\r\\n    let iMode = indexOfMax(q.pdf);\\r\\n    var t = q.x[iMode] + q.tGuess;\\r\\n    return t; \\r\\n}\\r\\n\\r\\n\\r\\n//sd=QuestSd(q)\\r\\n//Get the sd of the threshold distribution.\\r\\nexport function QuestSd( q ){\\r\\n    if( arguments.length != 1 ){\\r\\n        throw new Error('Usage: sd=QuestSd(q)');\\r\\n    }\\r\\n    let p = sumVector( q.pdf );\\r\\n    var xSquared = q.x.map(function(x){return Math.pow(x, 2); }); \\r\\n    var Squared2 = sumVector( multiplyVector(q.pdf, q.x)) / p; ;\\r\\n\\r\\n    \\r\\n    var sd= Math.sqrt( sumVector(multiplyVector(q.pdf, xSquared)) / (p - Math.pow(Squared2, 2)));\\r\\n\\r\\n    return sd; \\r\\n}\\r\\n//p=QuestPdf(q,t)\\r\\n// The (possibly unnormalized) probability density of candidate threshold \\\"t\\\".\\r\\n// q and t may be vectors of the same size, in which case the returned p is a vector of that size.\\r\\nexport function QuestPdf( q, t ){\\r\\n    if( arguments.length != 2 ){\\r\\n        throw new Error('Usage: p=QuestPdf(q,t)');\\r\\n    }\\r\\n\\r\\n    var i= Math.round( ( t- q.tGuess ) / q.grain ) + 1 + q.dim / 2;\\r\\n    i = Math.min( q.pdf.length , Math.max( 1 , i ));\\r\\n    var p = q.pdf[i];\\r\\n    return p; \\r\\n}\\r\\n\\r\\n// p=QuestP(q,x)\\r\\n// The probability of a correct (or yes) response at intensity x, assuming\\r\\n// threshold is at x=0.\\r\\nexport function QuestP( q, x ){\\r\\n\\r\\n    if( !isReal( x ) ){\\r\\n        throw new Error('x must be real, not complex.');\\r\\n    }\\r\\n\\r\\n    var p; \\r\\n    \\r\\n\\r\\n    if( x < q.x2[0] )\\r\\n        p = q.p2[0];\\r\\n    \\r\\n    else if( x > q.x2[q.x2.length-1] ){\\r\\n        p = q.p2[q.p2.length-1]; \\r\\n    }\\r\\n\\r\\n    else{\\r\\n        var linear = require('everpolate').linear\\r\\n        p = linear(0, q.x2, q.p2)[0];\\r\\n    }\\r\\n\\r\\n    if( !isFinite(p) ){\\r\\n        throw new Error('psychometric function ' + p + ' at ' + x);\\r\\n    }\\r\\n\\r\\n    return p; \\r\\n    \\r\\n\\r\\n}\\r\\n\\r\\n// intensity=QuestQuantile(q,[quantileOrder])\\r\\n//  Gets a quantile of the pdf in the struct q. You may specify the desired\\r\\n//  quantileOrder, e.g. 0.5 for median, or, making two calls, 0.05 and 0.95\\r\\n//  for a 90% confidence interval. If the \\\"quantileOrder\\\" argument is not\\r\\n//  supplied, then it's taken from the \\\"q\\\" struct. QuestCreate uses\\r\\n//  QuestRecompute to compute the optimal quantileOrder and saves that in the\\r\\n//  \\\"q\\\" struct; this quantileOrder yields a quantile  that is the most\\r\\n//  informative intensity for the next trial.\\r\\n\\r\\nexport function QuestQuantile( q, quantileOrder ){\\r\\n\\r\\n    if( arguments.length > 2 ){\\r\\n        throw new Error('Usage: intensity=QuestQuantile(q,[quantileOrder])');\\r\\n    }\\r\\n\\r\\n    if( arguments.length < 2 ){\\r\\n        quantileOrder = q.quantileOrder;\\r\\n    }\\r\\n\\r\\n    if( quantileOrder > 1 || quantileOrder < 0 ) {\\r\\n        throw new Error('quantileOrder' + quantileOrder + ' is outside range 0 to 1.');\\r\\n    }\\r\\n\\r\\n    var p = cumsum( q.pdf );\\r\\n\\r\\n    if( !isFinite ( p[p.length - 1] )) {\\r\\n        throw new Error('pdf is not finite');\\r\\n    }\\r\\n\\r\\n    if( p[p.length - 1] == 0) {\\r\\n        throw new Error('pdf is all zero');\\r\\n    }\\r\\n\\r\\n    var t; \\r\\n\\r\\n    if( quantileOrder < p[0] ){\\r\\n        t = q.tGuess + q.x[0];\\r\\n        return t;\\r\\n    }\\r\\n\\r\\n    if( quantileOrder > p[ p.length - 1] ){\\r\\n        t = q.tGuess + q.x[ q.x.length - 1];\\r\\n        return t;\\r\\n    }\\r\\n\\r\\n    var tempP = p.slice(); \\r\\n    \\r\\n    tempP.unshift(-1);\\r\\n\\r\\n    let tempA = diff( tempP );\\r\\n    var index = findZero( tempA );\\r\\n\\r\\n    \\r\\n\\r\\n    if( index.length < 2){\\r\\n\\t    throw new Error('pdf has only ' + index.length + ' nonzero point(s)');\\r\\n    }\\r\\n\\r\\n    var linear = require('everpolate').linear\\r\\n\\r\\n    var temp1 = subarrayIndex(p, index);\\r\\n    var temp2 = subarrayIndex(q.x, index);\\r\\n\\r\\n    var t  = q.tGuess + (linear(quantileOrder * p[ p.length - 1 ], temp1, temp2)[0]);\\r\\n    return t; \\r\\n}\\r\\n\\r\\nexport function PAL_Gumbel(alpha, beta, gamma, lambda, x, varargin){\\r\\n\\r\\n    const math = require('mathjs');\\r\\n\\r\\n    if ( arguments.length != 6){\\r\\n        throw new Error(\\\"Incorrect number of parameters: alpha, beta, gamma, lambda, x, varargin\\\");\\r\\n    }\\r\\n\\r\\n    if(  varargin !== \\\"\\\" ){\\r\\n        if( varargin === 'Inverse' ){\\r\\n            if ( isArray(x)){\\r\\n                var y = x.map(function(t){\\r\\n                    var c = math.eval( \\\"(\\\" + t + \\\"-\\\" + gamma + \\\" ) / (1 - \\\" + gamma + \\\"-\\\" + lambda + \\\") - 1\\\");\\r\\n                    c = math.eval(\\\"-1 * log( -1 * \\\" + c + \\\")\\\");\\r\\n                    c = math.eval( \\\"log10( \\\" + c + \\\")\\\");\\r\\n                    c = math.divide(c, 2);\\r\\n                    return math.add(alpha, c); \\r\\n                })\\r\\n                \\r\\n            }\\r\\n            else{\\r\\n                var c = math.eval( \\\"(\\\" + x + \\\"-\\\" + gamma + \\\" ) / (1 - \\\" + gamma + \\\"-\\\" + lambda + \\\") - 1\\\");\\r\\n                c = math.eval(\\\"-1 * log( -1 * \\\" + c + \\\")\\\");\\r\\n                c = math.eval( \\\"log10( \\\" + c + \\\")\\\");\\r\\n                c = math.divide(c, 2);\\r\\n                var y = math.add(alpha, c); \\r\\n            }\\r\\n        }\\r\\n        if( varargin === 'Derivative' ){\\r\\n            if( isArray( x )){\\r\\n                var y = x.map(function(x){\\r\\n                    return math.eval(\\\"( 1 - \\\" + gamma + \\\" - \\\" + lambda + \\\") * e^(-1 * 10^(\\\" + beta + \\\"*\\\" + \\\"(\\\" + x + \\\"-\\\" + alpha + \\\"))) * log(10) * 10^( \\\" + beta + \\\"*(\\\" + x + \\\"-\\\" + alpha + \\\"))*\\\" + beta); \\r\\n                })\\r\\n            }\\r\\n            else{\\r\\n                var y = (1 - gamma - lambda) * Math.exp( -1  * Math.pow( 10, (beta *(x - alpha)))) * Math.log(10) * Math.pow(10, (beta *( x - alpha))) * beta;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    \\r\\n    else{\\r\\n        if( isArray( x )){\\r\\n            var y = x.map(function(t){\\r\\n                return math.eval(gamma + \\\"+ ( 1 - \\\" + gamma + \\\" - \\\" + lambda + \\\") * ( 1 - e^(-1 * 10^(\\\" + beta + \\\"*\\\" + \\\"(\\\" + t + \\\"-\\\" + alpha + \\\"))))\\\"); \\r\\n            })\\r\\n        }\\r\\n        else{\\r\\n            var y = math.eval(gamma + \\\"+ ( 1 - \\\" + gamma + \\\" - \\\" + lambda + \\\") * ( 1 - e^(-1 * 10^(\\\" + beta + \\\"*\\\" + \\\"(\\\" + x + \\\"-\\\" + alpha + \\\"))))\\\"); \\r\\n            //var y = gamma + (1 - gamma - lambda) * (1 - Math.exp( -1  * Math.pow( 10, (beta *(x - alpha))))); \\r\\n        }\\r\\n    }\\r\\n\\r\\n    return y;\\r\\n    \\r\\n}\\r\\n\\r\\n//HELPER FUNCTIONS \\r\\n\\r\\nfunction subarrayIndex( arr, indices ){\\r\\n    var new_array = []\\r\\n\\r\\n    for( var i = 0; i < indices.length; i++){\\r\\n        new_array.push( arr[indices[i]] );\\r\\n    }\\r\\n\\r\\n    return new_array; \\r\\n}\\r\\n\\r\\nfunction findZero ( arr ){\\r\\n    var new_array = []\\r\\n\\r\\n    for(var i = 0; i < arr.length; i++ ){\\r\\n        if( arr[i] > 0 ){\\r\\n            new_array.push(i);\\r\\n        };\\r\\n    }\\r\\n\\r\\n    return new_array; \\r\\n}\\r\\n\\r\\nfunction diff( arr ){\\r\\n    var new_array = []\\r\\n\\r\\n    for(var i = 0; i < arr.length - 1; i++ ){\\r\\n        new_array.push( arr[ i + 1 ] - arr[ i ] );\\r\\n    }\\r\\n\\r\\n    return new_array; \\r\\n}\\r\\n\\r\\nexport function cumsum( arr ){\\r\\n    var new_array = []; \\r\\n    arr.reduce(function(a,b,i) { return new_array[i] = a+b; }, 0);\\r\\n    return new_array; \\r\\n}\\r\\n\\r\\n\\r\\nfunction multiplyVector(a,b){\\r\\n    return a.map((e,i) => e * b[i]);\\r\\n}\\r\\n\\r\\nexport function sumVector(v){\\r\\n    return v.reduce(( a, b ) => a + b, 0);\\r\\n}\\r\\n\\r\\nexport function indexOfMax(arr) {\\r\\n    if (arr.length === 0) {\\r\\n        return -1;\\r\\n    }\\r\\n\\r\\n    var max = arr[0];\\r\\n    var maxIndex = 0;\\r\\n\\r\\n    for (var i = 1; i < arr.length; i++) {\\r\\n        if (arr[i] > max) {\\r\\n            maxIndex = i;\\r\\n            max = arr[i];\\r\\n        }\\r\\n    }\\r\\n\\r\\n    return maxIndex;\\r\\n}\\r\\n\\r\\nfunction isReal( x ){\\r\\n    if( !(isFinite( x )) || (isNaN( x )) ){\\r\\n        return false;\\r\\n    }\\r\\n    else{ return true; }\\r\\n}\\r\\n\",\"export const add_response_1 = ( item ) => ({\\n  type: 'ADD_RESPONSE_1',\\n  payload: item\\n})\\n\\nexport const add_response_time_1 = ( item ) => ({\\n  type: 'ADD_RESPONSE_TIME_1',\\n  payload: item\\n})\\n\\nexport const add_contrast_1 = ( item ) => ({\\n  type: 'ADD_CONTRAST_1',\\n  payload: item\\n})\\n\\nexport const add_array = ( arr ) => ({\\n  type: 'ADD_ARRAY',\\n  payload: arr\\n})\",\"import React, { Component } from 'react';\\r\\nimport logo from \\\"../media/psych_logo.jpg\\\"\\r\\nimport './Welcome.css';\\r\\nimport { Redirect } from \\\"react-router-dom\\\";\\r\\nimport { QuestCreate, QuestRecompute, QuestTrials, QuestUpdate, QuestStimulate, QuestMean, QuestMode, QuestSd, QuestP, QuestPdf, QuestQuantile, PAL_Gumbel, cumsum } from \\\"../Quest.js\\\"\\r\\nimport { ch_QuestBetaAnalysis } from \\\"../VisualQuest.js\\\"\\r\\n\\r\\nimport { connect } from 'react-redux'\\r\\nimport { add_array, add_response_1 } from '../actions/data'\\r\\n\\r\\n\\r\\nclass Welcome extends Component {\\r\\n\\r\\n  constructor(props) {\\r\\n    super(props); \\r\\n    this.keyFunction = this.keyFunction.bind(this); \\r\\n    this.state = {\\r\\n      continue: false,\\r\\n    }\\r\\n  }\\r\\n\\r\\n  keyFunction(event){\\r\\n    if(event.keyCode === 81) {\\r\\n      alert(\\\"User has Requested to Continue\\\");\\r\\n      this.setState((state, props) => ({\\r\\n        continue: true\\r\\n      }));\\r\\n    }\\r\\n  }\\r\\n\\r\\n  componentDidMount(){\\r\\n    document.addEventListener(\\\"keydown\\\", this.keyFunction, false);\\r\\n  }\\r\\n  componentWillUnmount(){\\r\\n    document.removeEventListener(\\\"keydown\\\", this.keyFunction, false);\\r\\n  }\\r\\n\\r\\n  render() {\\r\\n\\r\\n    // var tGuess = 0.5,\\r\\n    //   tGuessSd = 0.1,\\r\\n    //   pThreshold = 0.75,\\r\\n    //   beta = 3.5,\\r\\n    //   delta = 0.01,\\r\\n    //   gamma = 0.01,\\r\\n    //   grain = 0.001,\\r\\n    //   dim = 1000,\\r\\n    //   range = 20;\\r\\n    // var q = QuestCreate(tGuess, tGuessSd, pThreshold, beta, delta, gamma, grain, range);\\r\\n\\r\\n    // console.log(q.pdf); \\r\\n    // var q2 = QuestCreate(tGuess, tGuessSd, pThreshold, beta, delta, gamma, grain, range);\\r\\n    // q2.updatePdf = 1; \\r\\n    // q2 = QuestUpdate(q2, 0.5, 1);\\r\\n    // console.log(q2);\\r\\n\\r\\n    // console.log( QuestQuantile(q), QuestQuantile(q2)); \\r\\n    // console.log(this.props.data);\\r\\n\\r\\n    \\r\\n\\r\\n    if(this.state.continue === true){\\r\\n      return <Redirect to=\\\"/Instructions\\\" />\\r\\n    }\\r\\n\\r\\n    return (\\r\\n      <div className=\\\"Welcome\\\">\\r\\n        <input type=\\\"hidden\\\"/>\\r\\n        <header className=\\\"Welcome-header\\\">\\r\\n        <div className=\\\"text-container\\\">\\r\\n          <p className=\\\"Welcome-text\\\">\\r\\n            <span className=\\\"bigger\\\">Welcome to the study! </span>\\r\\n            <br /><br />Please enter responses to the questions asked by pressing the: \\r\\n            <br /><br /><b> 'Q' key for 'YES I SEE IT'</b> or <b> 'E' key for \\\"NO I DO NOT'</b>\\r\\n            <br /><br /><br /><br /> Sometimes it may be difficult to answer, but if you do not know, please make your best guess.\\r\\n            <br /><br /><br /><br /> PRESS the <b> YES I SEE IT / 'Q' key</b> to CONTINUE\\r\\n            \\r\\n          </p>\\r\\n        </div>      \\r\\n          <a\\r\\n            href=\\\"https://medicine.yale.edu/psychiatry/care/cmhc/\\\"\\r\\n            title=\\\"Learn more about the Connecticut Mental Health Center\\\"\\r\\n            target=\\\"_blank\\\"\\r\\n            rel=\\\"noopener noreferrer\\\"\\r\\n          >\\r\\n          <img src={logo} className=\\\"Site-link\\\" alt=\\\"logo\\\" />\\r\\n          </a>\\r\\n\\r\\n        </header>\\r\\n      </div>\\r\\n    );\\r\\n  }\\r\\n}\\r\\n\\r\\nconst mapStateToProps = state => ({\\r\\n  data: state.data,\\r\\n})\\r\\n\\r\\nconst mapDispatchToProps = dispatch => ({\\r\\n  add_response_1: ( elem ) => dispatch(add_response_1( elem )),\\r\\n  add_array: ( arr ) => dispatch(add_array( arr )),\\r\\n})\\r\\n\\r\\nexport default connect(mapStateToProps, mapDispatchToProps)(Welcome)\",\"import React, { Component } from 'react';\\r\\nimport './Instructions.css';\\r\\nimport { Redirect } from \\\"react-router-dom\\\";\\r\\n\\r\\nclass Instructions extends Component {\\r\\n\\r\\n    constructor(props) {\\r\\n        super(props); \\r\\n        this.keyFunction = this.keyFunction.bind(this); \\r\\n        this.state = {\\r\\n          continue: false,\\r\\n        }\\r\\n      }\\r\\n    \\r\\n      keyFunction(event){\\r\\n        if(event.keyCode === 81) {\\r\\n          alert(\\\"User has Requested to Continue\\\");\\r\\n          this.setState((state, props) => ({\\r\\n            continue: true\\r\\n          }));\\r\\n        }\\r\\n      }\\r\\n    \\r\\n      componentDidMount(){\\r\\n        document.addEventListener(\\\"keydown\\\", this.keyFunction, false);\\r\\n      }\\r\\n      componentWillUnmount(){\\r\\n        document.removeEventListener(\\\"keydown\\\", this.keyFunction, false);\\r\\n      }\\r\\n    \\r\\n      render() {\\r\\n    \\r\\n        if(this.state.continue === true){\\r\\n          return <Redirect to=\\\"/Trial\\\" />\\r\\n        }\\r\\n    \\r\\n        return (\\r\\n          <div className=\\\"Instructions\\\">\\r\\n            <input type=\\\"hidden\\\"/>\\r\\n            <header className=\\\"Instructions-header\\\">\\r\\n            <div className=\\\"text-container\\\">\\r\\n              <p className=\\\"Instructions-text\\\">\\r\\n                This is a vision test. \\r\\n                <br /><br /> A visual white noise will be shown throughout the experiment.\\r\\n                <br /><br /> A striped-texture will appear inside the white noise when a tone is played. \\r\\n                <br /><br /> Press <b> \\\"Q\\\"/YES </b> if you <b> DO </b>see the stripes. \\r\\n                <br /><br /> Press <b> \\\"E\\\"/NO </b> if you <b> DO NOT </b> see the stripes. \\r\\n                <br /><br /> Please respond as <b> QUICKLY </b> and as <b> ACCURATELY </b> as you <b> POSSIBLY CAN </b> \\r\\n                <br /><br /><br /> PRESS \\\"Q\\\"/YES TO BEGIN A SHORT PRACTICE SESSION\\r\\n                \\r\\n              </p>\\r\\n            </div>     \\r\\n            </header>\\r\\n          </div>\\r\\n        );\\r\\n      }\\r\\n    }\\r\\n\\r\\nexport default Instructions;\\r\\n\",\"export function createStim( ){\\r\\n    var stim = {\\r\\n        background: 255/2,\\r\\n        angle: Math.floor(Math.random() * 135) + 45,   // returns a random integer from 45 to 135\\r\\n        imsize: 256, \\r\\n        initcontrast:  0.5,                  // initial contrast\\r\\n        threshold:     0.2,                  // moch treshold\\r\\n        phases: [0, 0.25],                   // phases either 0 and 0.25\\r\\n        phase: 0,\\r\\n        alpha: 0.5, \\r\\n        ppd: 160, \\r\\n        frequency: 0,                  // gabor spatial frequency\\r\\n    }\\r\\n\\r\\n    stim.phase = stim.phases[Math.round(Math.random())];\\r\\n    stim.frequency = 2 / stim.ppd; \\r\\n\\r\\n    return stim;\\r\\n};\\r\\n\\r\\nexport function createGabor( stim, contrast ){\\r\\n\\r\\n    var xs = []\\r\\n    var ys = []\\r\\n\\r\\n    for (var x = 1; x < stim.imsize + 1; x++ ){\\r\\n        for (var y = 1; y < stim.imsize + 1; y++ ){\\r\\n            xs[((x -1) + (y - 1) * stim.imsize) * 4 + 0] = x - ((stim.imsize + 1) / 2);\\r\\n            xs[((x -1) + (y - 1) * stim.imsize) * 4 + 1] = x - ((stim.imsize + 1) / 2);\\r\\n            xs[((x -1) + (y - 1) * stim.imsize) * 4 + 2] = x - ((stim.imsize + 1) / 2);\\r\\n            xs[((x -1) + (y - 1) * stim.imsize) * 4 + 3] = x - ((stim.imsize + 1) / 2);\\r\\n\\r\\n            ys[((x -1) + (y - 1) * stim.imsize) * 4 + 0] = y - ((stim.imsize + 1) / 2);\\r\\n            ys[((x -1) + (y - 1) * stim.imsize) * 4 + 1] = y - ((stim.imsize + 1) / 2);\\r\\n            ys[((x -1) + (y - 1) * stim.imsize) * 4 + 2] = y - ((stim.imsize + 1) / 2);\\r\\n            ys[((x -1) + (y - 1) * stim.imsize) * 4 + 3] = y - ((stim.imsize + 1) / 2);\\r\\n        }\\r\\n    }\\r\\n\\r\\n    var patch = []; \\r\\n\\r\\n    for(var i = 0; i < xs.length && i < ys.length; i++){\\r\\n        patch[i] = 0.5 * Math.cos(2 * Math.PI * (stim.frequency * (Math.sin( Math.PI / 180 * stim.angle) * xs[i] + Math.cos( Math.PI / 180 * stim.angle) * ys[i] ) + stim.phase)) * contrast; \\r\\n    }\\r\\n\\r\\n    var grating = patch.map( function(x) { return (stim.background + (x * stim.background)); });\\r\\n\\r\\n    return grating; \\r\\n}\\r\\n\\r\\nexport function blendfun( alpha, a, b ){\\r\\n    var stimulusArr = [];\\r\\n\\r\\n    for (var x = 0; x < a.length && x < b.length; x++ ){\\r\\n        stimulusArr[x] = alpha * a[x] + (1 - alpha) * b[x]; \\r\\n    }\\r\\n\\r\\n    return stimulusArr; \\r\\n}\\r\\n\\r\\n\",\"import React, { Component } from 'react';\\r\\nimport './Trial.css';\\r\\nimport { Redirect } from \\\"react-router-dom\\\";\\r\\nimport { createStim, createGabor } from \\\"../Stim.js\\\"\\r\\n\\r\\nimport { connect } from 'react-redux'\\r\\nimport { add_array, add_response_1, add_response_time_1, add_contrast_1 } from '../actions/data'\\r\\n\\r\\nclass Trial extends Component {\\r\\n\\r\\n    constructor(props) {\\r\\n        super(props); \\r\\n        this.keyFunction = this.keyFunction.bind(this); \\r\\n        this.create_noise = this.create_noise.bind(this);  \\r\\n        this.state = {\\r\\n          continue: false,\\r\\n          counter: 0,\\r\\n\\r\\n          responses_1: [],\\r\\n          contrast_array_1: [],\\r\\n          response_time_1: [],\\r\\n          ratings_1: [],\\r\\n\\r\\n          responses_2: [],\\r\\n          contrast_array_2: [],\\r\\n          response_time_2: [],\\r\\n          ratings_2: [],\\r\\n\\r\\n          time_window: false,\\r\\n          time_window_start: 0,\\r\\n          time_window_rating: false, \\r\\n          limit: 100,\\r\\n\\r\\n\\r\\n          contrast_flag: 1, //1 for contrast 1 and 2 for contrast 2\\r\\n\\r\\n        }\\r\\n        this.canvasRef = React.createRef(); \\r\\n        this.audioContext = new AudioContext();\\r\\n      }\\r\\n\\r\\n      create_noise( audioContext, callback ){\\r\\n\\r\\n        // contrast values\\r\\n        var c25 = 0.2;\\r\\n        var c50 = 0.5;\\r\\n        var c75 = 0.75;\\r\\n\\r\\n        //train_test arrays\\r\\n        var tt1 = [c25, c50, c75 ];\\r\\n        var end = tt1.length; \\r\\n        var contrast_block = tt1; \\r\\n        var index = 0; \\r\\n\\r\\n        var SimplexNoise = require('simplex-noise');\\r\\n        \\r\\n        var simplex = new SimplexNoise(),\\r\\n          canvas = document.getElementById('c'),\\r\\n          ctx = canvas.getContext('2d'),\\r\\n          imgdata = ctx.getImageData(0, 0, canvas.width, canvas.height),\\r\\n          data = imgdata.data,\\r\\n          t = 0;\\r\\n        \\r\\n        var stim = createStim(); \\r\\n        var stimulus_blank = createGabor( stim, 0 ); \\r\\n        \\r\\n        var stimulus; \\r\\n        var jitter = Math.floor(Math.random()* 20); //jitter tone presentation 0-500ms per trial\\r\\n        var start_time = 100;\\r\\n        var contrast = 0; \\r\\n        var intervalId = undefined; \\r\\n\\r\\n        var that = this;\\r\\n        var seconds = 0; \\r\\n\\r\\n        async function generate_noise( ){\\r\\n\\r\\n            if ( t == start_time + jitter){\\r\\n              index = that.state.counter; \\r\\n\\r\\n              contrast = contrast_block[index++];\\r\\n              console.log(contrast); \\r\\n\\r\\n              var seconds = new Date().getTime() / 1000;\\r\\n\\r\\n              console.log(\\\"time on \\\", seconds);\\r\\n\\r\\n              that.setState({ \\r\\n                time_window: true, \\r\\n                time_window_rating: true, \\r\\n                time_window_start: seconds,\\r\\n              });\\r\\n\\r\\n              console.log(that.state.responses_1, that.state.ratings_1, that.state.response_time_1, that.state.contrast_array_1); \\r\\n\\r\\n              stimulus = createGabor( stim, contrast ); \\r\\n              beep(50, 830, 300, audioContext); //beep for arg3 miliseconds\\r\\n            }\\r\\n\\r\\n            for (var x = 0; x < 256; x++) {\\r\\n              for (var y = 0; y < 256; y++) {\\r\\n                if(t == start_time + jitter || t == start_time + jitter + 1 || t == start_time + jitter + 2|| t == start_time+ jitter+3 || t == start_time + jitter+4\\r\\n                  || t == start_time+ jitter + 5 || t == start_time+ jitter +6 || t == start_time+ jitter +7|| t == start_time + jitter+8|| t == start_time+ jitter+9\\r\\n                  || t == start_time + jitter+ 10|| t == start_time+ jitter +11|| t == start_time+ jitter +12|| t == start_time + jitter+13|| t == start_time+ jitter+14\\r\\n                  || t == start_time + jitter+ 15|| t == start_time + jitter + 16|| t == start_time+ jitter +17|| t == start_time + jitter +18|| t == start_time+ jitter +19\\r\\n                  || t == start_time+ jitter + 20|| t == start_time+ jitter + 21|| t == start_time+ jitter + 22|| t == start_time+ jitter + 23|| t == start_time+ jitter + 24\\r\\n                  || t == start_time+ jitter + 25|| t == start_time+ jitter + 26|| t == start_time+ jitter + 27|| t == start_time+ jitter + 28|| t == start_time+ jitter + 29\\r\\n                  || t == start_time+ jitter + 30){\\r\\n                  if( t == start_time+ jitter +30 ){\\r\\n                    t = 0;\\r\\n                    //during beep show signal, then reset timer to 0\\r\\n                  }\\r\\n\\r\\n                  var r = simplex.noise3D(x / 8, y / 8, t/8)* 0.4 + 0.35;\\r\\n                  data[(x + y * 256) * 4 + 0] = stim.alpha * stimulus[(x + y * 256) * 4 + 0] + (1 - stim.alpha) * r * 250;\\r\\n                  data[(x + y * 256) * 4 + 1] = stim.alpha * stimulus[(x + y * 256) * 4 + 1] + (1 - stim.alpha) * r * 250;\\r\\n                  data[(x + y * 256) * 4 + 2] = stim.alpha * stimulus[(x + y * 256) * 4 + 2] + (1 - stim.alpha) * r * 250;\\r\\n                  data[(x + y * 256) * 4 + 3] = 255;\\r\\n                }\\r\\n\\r\\n                else{\\r\\n\\r\\n                  seconds = new Date().getTime() / 1000\\r\\n\\r\\n                  if(that.state.time_window_start + 2 == seconds){\\r\\n                    that.setState({ \\r\\n                      time_window: false,\\r\\n                      time_window_rating: false,  \\r\\n                    });\\r\\n\\r\\n                    if(that.state.contrast_array_1.length < that.state.responses_1.length){\\r\\n                      that.setState({ contrast_array_1: that.state.contrast_array_1.concat([contrast]) });\\r\\n                    }\\r\\n\\r\\n                    if( that.state.responses_1.length != that.state.ratings_1.length ){\\r\\n\\r\\n                      if( that.state.responses_1.length > that.state.ratings_1.length ){\\r\\n\\r\\n                        console.log(\\\"response and response time discarded\\\", that.state.responses_1, that.state.response_time_1, that.state.ratings_1, that.state.contrast_array_1);\\r\\n\\r\\n                        that.setState({\\r\\n                          responses_1: that.state.responses_1.slice(0, that.state.ratings_1.length),\\r\\n                          response_time_1: that.state.response_time_1.slice(0, that.state.ratings_1.length),\\r\\n                          counter: that.state.counter - 1, \\r\\n                          contrast_array_1: that.state.contrast_array_1.slice(0, that.state.ratings_1.length)\\r\\n                        });\\r\\n                      }\\r\\n\\r\\n                      else{\\r\\n                        console.log(\\\"rating discarded\\\", that.state.responses_1, that.state.ratings_1, that.state.contrast_array_1);\\r\\n\\r\\n                        that.setState({\\r\\n                          ratings_1: that.state.ratings_1.slice(0, that.state.responses_1.length), \\r\\n                        });\\r\\n                      }\\r\\n                    }\\r\\n                    console.log(\\\"time off \\\", seconds);\\r\\n                  }\\r\\n\\r\\n\\r\\n                  var r = simplex.noise3D(x / 8, y / 8, t/8) * 0.4 + 0.35;\\r\\n                  data[(x + y * 256) * 4 + 0] = stim.alpha * stimulus_blank[(x + y * 256) * 4 + 0] + (1 - stim.alpha) * r * 250;\\r\\n                  data[(x + y * 256) * 4 + 1] = stim.alpha * stimulus_blank[(x + y * 256) * 4 + 1] + (1 - stim.alpha) * r * 250;\\r\\n                  data[(x + y * 256) * 4 + 2] = stim.alpha * stimulus_blank[(x + y * 256) * 4 + 2] + (1 - stim.alpha) * r * 250;\\r\\n                  data[(x + y * 256) * 4 + 3] = 255;\\r\\n                  //if there is no beep, show blank signal\\r\\n                }\\r\\n              }\\r\\n            }\\r\\n\\r\\n            t++;\\r\\n            ctx.putImageData(imgdata, 0, 0);\\r\\n            \\r\\n            var recWidth = canvas.width / 8;\\r\\n            var recHeight = canvas.height / 8;\\r\\n\\r\\n            var xPos = (canvas.width/2) - (recWidth/2);\\r\\n\\r\\n            var yPos = (canvas.height/2) - (recHeight/2);\\r\\n            var img=new Image();\\r\\n            img.src = \\\"https://www.shareicon.net/data/256x256/2015/12/04/682310_cross_512x512.png\\\";\\r\\n            ctx.fillStyle = \\\"gray\\\";\\r\\n            \\r\\n            ctx.fillRect(xPos, yPos, recWidth, recHeight);\\r\\n            ctx.drawImage(img, xPos, yPos, recWidth, recHeight);\\r\\n\\r\\n            if(index == end ){\\r\\n              window.cancelAnimationFrame(intervalId); \\r\\n              for(var g = 0; g < end; g++){\\r\\n                that.props.add_response_1( that.state.responses_1[g] );\\r\\n                that.props.add_response_time_1( that.state.response_time_1[g] );\\r\\n                that.props.add_contrast_1( that.state.contrast_array_1[g] );\\r\\n              }\\r\\n\\r\\n              that.audioContext.close();\\r\\n              that.setState({ continue: true });\\r\\n              return;\\r\\n            }\\r\\n\\r\\n            if(index < end){\\r\\n              intervalId = window.requestAnimationFrame(generate_noise);\\r\\n            }\\r\\n\\r\\n          }\\r\\n\\r\\n          generate_noise.call(that);\\r\\n\\r\\n      }\\r\\n    \\r\\n      keyFunction(event){\\r\\n        var seconds = new Date().getTime() / 1000\\r\\n\\r\\n        if(event.keyCode === 81 && this.state.time_window == true){\\r\\n\\r\\n          // Set setState\\r\\n          this.setState({\\r\\n            counter: this.state.counter + 1, \\r\\n            responses_1: this.state.responses_1.concat([1]),\\r\\n            response_time_1: this.state.response_time_1.concat([ seconds - this.state.time_window_start]),\\r\\n            time_window: false, \\r\\n          });\\r\\n\\r\\n          if(this.state.counter == this.state.limit){\\r\\n            this.setState({ continue: true });\\r\\n          }\\r\\n\\r\\n        }\\r\\n\\r\\n        if(event.keyCode === 69 && this.state.time_window == true) {\\r\\n          this.setState({\\r\\n            counter: this.state.counter + 1, \\r\\n            responses_1: this.state.responses_1.concat([0]),\\r\\n            response_time_1: this.state.response_time_1.concat([ seconds - this.state.time_window_start]),\\r\\n            time_window: false, \\r\\n          });\\r\\n\\r\\n          if(this.state.counter == this.state.limit){\\r\\n            this.setState({ continue: true });\\r\\n          }\\r\\n        }\\r\\n\\r\\n\\r\\n        if( ( event.keyCode === 49 || event.keyCode === 50 || event.keyCode === 51 || event.keyCode === 52 || event.keyCode === 53) && this.state.time_window_rating == true){\\r\\n          this.setState({\\r\\n            ratings_1: this.state.ratings_1.concat([event.keyCode - 48]),\\r\\n            time_window_rating: false, \\r\\n          });\\r\\n        }\\r\\n      }\\r\\n    \\r\\n      componentDidMount(){\\r\\n        document.addEventListener(\\\"keydown\\\", this.keyFunction, false);\\r\\n        if(this.state.continue == false){\\r\\n          this.create_noise( this.audioContext ); \\r\\n        }\\r\\n      }\\r\\n      componentWillUnmount(){\\r\\n        document.removeEventListener(\\\"keydown\\\", this.keyFunction, false);\\r\\n      }\\r\\n      \\r\\n      render() { \\r\\n\\r\\n        if(this.state.continue == true){\\r\\n          alert(\\\"Trial completed\\\")\\r\\n          return <Redirect to=\\\"/Complete\\\" />\\r\\n        }\\r\\n    \\r\\n        return (\\r\\n          <div className=\\\"Trial\\\">\\r\\n            <input type=\\\"hidden\\\"/>\\r\\n            <header className=\\\"Trial-header\\\">\\r\\n            <canvas id=\\\"c\\\" width=\\\"256\\\" height=\\\"256\\\" \\r\\n              style={{ zIndex:\\\"0\\\", position: \\\"fixed\\\", left: \\\"25%\\\",width: '50%', height:'auto'}}></canvas>\\r\\n            <canvas id=\\\"c2\\\" width=\\\"256\\\" height=\\\"256\\\" \\r\\n              style={{ zIndex:\\\"1\\\", position: \\\"fixed\\\", left: \\\"25%\\\", width: '50%', height:'auto'}}></canvas>\\r\\n            </header>\\r\\n          </div>\\r\\n        );\\r\\n      }\\r\\n    }\\r\\n\\r\\nconst mapStateToProps = state => ({\\r\\n  data: state.data,\\r\\n})\\r\\n\\r\\nconst mapDispatchToProps = dispatch => ({\\r\\n  add_response_1: ( element ) => dispatch(add_response_1( element )),\\r\\n  add_response_time_1: ( element ) => dispatch(add_response_time_1( element )),\\r\\n  add_contrast_1: ( element ) => dispatch(add_contrast_1( element )),\\r\\n  add_array: ( arr ) => dispatch(add_array( arr )),\\r\\n})\\r\\n  \\r\\nexport default connect(mapStateToProps, mapDispatchToProps)(Trial);\\r\\n\\r\\n\\r\\nfunction beep(amp, freq, ms, audioContext){//amp:0..100, freq in Hz, ms\\r\\n  if (!audioContext) return;\\r\\n  var osc = audioContext.createOscillator();\\r\\n  var gain = audioContext.createGain();\\r\\n  osc.connect(gain);\\r\\n  osc.value = freq;\\r\\n  gain.connect(audioContext.destination);\\r\\n  gain.gain.value = amp/100;\\r\\n  osc.start(audioContext.currentTime);\\r\\n  osc.stop(audioContext.currentTime+ms/1000);\\r\\n }\\r\\n\\r\\n //array shuffling function, used to randomize order of presentation for different blocks\\r\\nfunction shuffle (array) {\\r\\n  var i = 0\\r\\n  var j = 0\\r\\n  var temp = null\\r\\n\\r\\n  for (i = array.length - 1; i > 0; i -= 1) {\\r\\n    j = Math.floor(Math.random() * (i + 1))\\r\\n    temp = array[i]\\r\\n    array[i] = array[j]\\r\\n    array[j] = temp\\r\\n    }\\r\\n  }\\r\\n\\r\\n  \",\"import React from \\\"react\\\";\\r\\nimport \\\"./NotFound.css\\\";\\r\\n\\r\\nexport default () =>\\r\\n  <div className=\\\"NotFound\\\">\\r\\n    <h3>Sorry, page not found!</h3>\\r\\n  </div>;\",\"import React, { Component } from 'react';\\r\\nimport './Complete.css';\\r\\nimport { connect } from 'react-redux'\\r\\nimport { Redirect } from \\\"react-router-dom\\\";\\r\\n\\r\\nclass Complete extends Component {\\r\\n\\r\\n    constructor(props) {\\r\\n        super(props); \\r\\n      this.keyFunction = this.keyFunction.bind(this); \\r\\n      this.state = {\\r\\n        continue: false,\\r\\n      }\\r\\n    }\\r\\n\\r\\n    keyFunction(event){\\r\\n    if(event.keyCode === 81) {\\r\\n      alert(\\\"User has Requested to Continue\\\");\\r\\n      this.setState((state, props) => ({\\r\\n        continue: true\\r\\n      }));\\r\\n    }\\r\\n  }\\r\\n\\r\\n   componentDidMount(){\\r\\n    document.addEventListener(\\\"keydown\\\", this.keyFunction, false);\\r\\n  }\\r\\n  componentWillUnmount(){\\r\\n    document.removeEventListener(\\\"keydown\\\", this.keyFunction, false);\\r\\n  }\\r\\n    \\r\\n    \\r\\n      render() {\\r\\n        console.log(this.props.data);\\r\\n\\r\\n        if(this.state.continue === true){\\r\\n      return <Redirect to=\\\"/TrialQ\\\" />\\r\\n    }\\r\\n    \\r\\n        return (\\r\\n          <div className=\\\"Complete\\\">\\r\\n            <header className=\\\"Complete-header\\\">\\r\\n            <div className=\\\"text-container\\\">\\r\\n              <p className=\\\"Complete-text\\\">\\r\\n                Congratulations\\r\\n                <br /><br /> You have completed the first trial\\r\\n                <br /><br /> You responses have been recorded:\\r\\n                <br /><br />\\r\\n                Responses:\\r\\n                { this.props.data.responses_1.map( function( d, idx) { \\r\\n                  return (<li key={idx} style={{ listStyleType: \\\"none\\\"}}>{d}</li>)\\r\\n                }) }\\r\\n                Response Times:\\r\\n                { this.props.data.response_time_1.map( function( d, idx) { \\r\\n                  return (<li key={idx} style={{ listStyleType: \\\"none\\\"}}>{d}</li>)\\r\\n                }) }\\r\\n                Contrasts:\\r\\n                { this.props.data.contrast_1.map( function( d, idx) { \\r\\n                  return (<li key={idx} style={{ listStyleType: \\\"none\\\"}}>{d}</li>)\\r\\n                }) }\\r\\n                <br /><br />\\r\\n              </p>\\r\\n            </div>     \\r\\n            </header>\\r\\n          </div>\\r\\n        );\\r\\n      }\\r\\n    }\\r\\n\\r\\nconst mapStateToProps = state => ({\\r\\n  data: state.data,\\r\\n})\\r\\n\\r\\nexport default connect(mapStateToProps)(Complete)\\r\\n\",\"import React, { Component } from 'react';\\r\\nimport './Trial.css';\\r\\nimport { Redirect } from \\\"react-router-dom\\\";\\r\\nimport { createStim, createGabor } from \\\"../Stim.js\\\"\\r\\nimport { QuestCreate, QuestRecompute, QuestTrials, QuestUpdate, QuestStimulate, QuestMean, QuestMode, QuestSd, QuestP, QuestPdf, QuestQuantile, PAL_Gumbel } from \\\"../Quest.js\\\"\\r\\n\\r\\nimport { connect } from 'react-redux'\\r\\nimport { add_array, add_response_1, add_response_time_1, add_contrast_1 } from '../actions/data'\\r\\n\\r\\nclass TrialQ extends Component {\\r\\n\\r\\n  constructor(props) {\\r\\n    super(props);\\r\\n    this.keyFunction = this.keyFunction.bind(this);\\r\\n    this.create_noise = this.create_noise.bind(this);\\r\\n    this.state = {\\r\\n      continue: false,\\r\\n      counter: 0,\\r\\n      counter2: 0,\\r\\n      change: false,\\r\\n\\r\\n      responses_1: [],\\r\\n      contrast_array_1: [],\\r\\n      response_time_1: [],\\r\\n      ratings_1: [],\\r\\n\\r\\n      responses_2: [],\\r\\n      contrast_array_2: [],\\r\\n      response_time_2: [],\\r\\n      ratings_2: [],\\r\\n\\r\\n      time_window: false,\\r\\n      time_window_start: 0,\\r\\n      time_window_rating: false,\\r\\n      limit: 100,\\r\\n\\r\\n      rating_window: true,\\r\\n\\r\\n      currentQ: 1, //1 for contrast 1 and 2 for contrast 2\\r\\n\\r\\n    }\\r\\n    this.canvasRef = React.createRef();\\r\\n    this.audioContext = new AudioContext();\\r\\n  }\\r\\n\\r\\n  create_noise(audioContext, callback) {\\r\\n\\r\\n    var end = 80;\\r\\n    // var contrast_block = tt1;\\r\\n    var index1 = 0;\\r\\n    var index2 = 0;\\r\\n    var total = 0;\\r\\n\\r\\n    //train_test arrays\\r\\n    var tt1 = [0, .5, 1, 0, .5, 1, 0, .5, 1, 0, .5, 1];\\r\\n    var end = tt1.length;\\r\\n    var contrast_block = tt1;\\r\\n\\r\\n    var SimplexNoise = require('simplex-noise');\\r\\n\\r\\n    var simplex = new SimplexNoise(),\\r\\n      canvas = document.getElementById('c'),\\r\\n      ctx = canvas.getContext('2d'),\\r\\n      imgdata = ctx.getImageData(0, 0, canvas.width, canvas.height),\\r\\n      data = imgdata.data,\\r\\n      t = 0;\\r\\n\\r\\n    //initializing QUEST\\r\\n    var tGuess = 0.5,\\r\\n      tGuessSd = 0.1,\\r\\n      pThreshold = 0.75,\\r\\n      beta = 3.5,\\r\\n      delta = 0.01,\\r\\n      gamma = 0.01,\\r\\n      grain = 0.001,\\r\\n      dim = 1000,\\r\\n      range = 20;\\r\\n    var q_1 = QuestCreate(tGuess, tGuessSd, pThreshold, beta, delta, gamma, grain, range);\\r\\n    var q_2 = QuestCreate(tGuess, tGuessSd, pThreshold, beta, delta, gamma, grain, range);\\r\\n\\r\\n    var stim = createStim();\\r\\n    var stimulus_blank = createGabor(stim, 0);\\r\\n\\r\\n    var stimulus;\\r\\n    var jitter = Math.floor(Math.random() * 20); //jitter tone presentation 0-500ms per trial\\r\\n    var start_time = 100;\\r\\n    var contrast = 0;\\r\\n    var intervalId = undefined;\\r\\n\\r\\n    var that = this;\\r\\n    var seconds = 0;\\r\\n\\r\\n    async function generate_noise() {\\r\\n\\r\\n      if (t == start_time + jitter) {\\r\\n\\r\\n        index1 = that.state.counter;\\r\\n        index2 = that.state.counter2;\\r\\n\\r\\n        total = index1 + index2;\\r\\n\\r\\n        console.log(QuestQuantile(q_1), QuestQuantile(q_2)); \\r\\n\\r\\n        // determining which staircase to use\\r\\n        if (index1 == index2) {\\r\\n          that.setState({             //current staircase is 1\\r\\n            currentQ: 1,\\r\\n          });\\r\\n        }\\r\\n\\r\\n        if (index1 != index2) {\\r\\n          index2++;\\r\\n          that.setState({             //current staircase is 2\\r\\n            currentQ: 2,\\r\\n          });\\r\\n        }\\r\\n\\r\\n        if (that.state.currentQ == 1) {\\r\\n          if (index1 = 0) {\\r\\n            contrast = tGuess + .3;\\r\\n          }\\r\\n          else {\\r\\n            contrast = QuestQuantile(q_1);\\r\\n          }\\r\\n        }\\r\\n        if (that.state.currentQ == 2) {\\r\\n          if (index2 = 0) {\\r\\n            contrast = tGuess - 0.3;\\r\\n          }\\r\\n          else {\\r\\n            contrast = QuestQuantile(q_2);\\r\\n          }\\r\\n        }\\r\\n\\r\\n        console.log(contrast);\\r\\n\\r\\n        var seconds = new Date().getTime() / 1000;\\r\\n\\r\\n        console.log(\\\"time on \\\", seconds);\\r\\n\\r\\n        that.setState({\\r\\n          time_window: true,\\r\\n          time_window_rating: true,\\r\\n          time_window_start: seconds,\\r\\n        });\\r\\n\\r\\n        console.log(\\\"for 1\\\", that.state.responses_1, that.state.ratings_1, that.state.response_time_1, that.state.contrast_array_1);\\r\\n        console.log(\\\"for 2\\\", that.state.responses_2, that.state.ratings_2, that.state.response_time_2, that.state.contrast_array_2);\\r\\n\\r\\n        stimulus = createGabor(stim, contrast);\\r\\n        beep(50, 830, 300, audioContext); //beep for arg3 miliseconds\\r\\n      }\\r\\n\\r\\n      for (var x = 0; x < 256; x++) {\\r\\n        for (var y = 0; y < 256; y++) {\\r\\n          if (t == start_time + jitter || t == start_time + jitter + 1 || t == start_time + jitter + 2 || t == start_time + jitter + 3 || t == start_time + jitter + 4\\r\\n            || t == start_time + jitter + 5 || t == start_time + jitter + 6 || t == start_time + jitter + 7 || t == start_time + jitter + 8 || t == start_time + jitter + 9\\r\\n            || t == start_time + jitter + 10 || t == start_time + jitter + 11 || t == start_time + jitter + 12 || t == start_time + jitter + 13 || t == start_time + jitter + 14\\r\\n            || t == start_time + jitter + 15 || t == start_time + jitter + 16 || t == start_time + jitter + 17 || t == start_time + jitter + 18 || t == start_time + jitter + 19\\r\\n            || t == start_time + jitter + 20 || t == start_time + jitter + 21 || t == start_time + jitter + 22 || t == start_time + jitter + 23 || t == start_time + jitter + 24\\r\\n            || t == start_time + jitter + 25 || t == start_time + jitter + 26 || t == start_time + jitter + 27 || t == start_time + jitter + 28 || t == start_time + jitter + 29\\r\\n            || t == start_time + jitter + 30) {\\r\\n            if (t == start_time + jitter + 30) {\\r\\n              t = 0;\\r\\n              //during beep show signal, then reset timer to 0\\r\\n            }\\r\\n\\r\\n            var r = simplex.noise3D(x / 8, y / 8, t / 8) * 0.4 + 0.35;\\r\\n            data[(x + y * 256) * 4 + 0] = stim.alpha * stimulus[(x + y * 256) * 4 + 0] + (1 - stim.alpha) * r * 250;\\r\\n            data[(x + y * 256) * 4 + 1] = stim.alpha * stimulus[(x + y * 256) * 4 + 1] + (1 - stim.alpha) * r * 250;\\r\\n            data[(x + y * 256) * 4 + 2] = stim.alpha * stimulus[(x + y * 256) * 4 + 2] + (1 - stim.alpha) * r * 250;\\r\\n            data[(x + y * 256) * 4 + 3] = 255;\\r\\n          }\\r\\n\\r\\n          else {\\r\\n\\r\\n            seconds = new Date().getTime() / 1000\\r\\n\\r\\n            if (that.state.time_window_start + 2 == seconds) {\\r\\n              that.setState({\\r\\n                time_window: false,\\r\\n                time_window_rating: false,\\r\\n              });\\r\\n\\r\\n              if (that.state.currentQ == 1) {\\r\\n\\r\\n                if (that.state.contrast_array_1.length < that.state.responses_1.length) {\\r\\n                  that.setState({ contrast_array_1: that.state.contrast_array_1.concat([contrast]) });\\r\\n                  that.setState({ change: true });\\r\\n                }\\r\\n\\r\\n                if (that.state.responses_1.length != that.state.ratings_1.length) {\\r\\n\\r\\n                  if (that.state.responses_1.length > that.state.ratings_1.length) {\\r\\n\\r\\n                    console.log(\\\"response and response time discarded\\\", that.state.responses_1, that.state.response_time_1, that.state.ratings_1, that.state.contrast_array_1);\\r\\n\\r\\n                    that.setState({\\r\\n                      responses_1: that.state.responses_1.slice(0, that.state.ratings_1.length),\\r\\n                      response_time_1: that.state.response_time_1.slice(0, that.state.ratings_1.length),\\r\\n                      counter: that.state.counter - 1,\\r\\n                      contrast_array_1: that.state.contrast_array_1.slice(0, that.state.ratings_1.length)\\r\\n                    });\\r\\n                  }\\r\\n\\r\\n                  else {\\r\\n                    console.log(\\\"rating discarded\\\", that.state.responses_1, that.state.ratings_1, that.state.contrast_array_1);\\r\\n\\r\\n                    that.setState({\\r\\n                      ratings_1: that.state.ratings_1.slice(0, that.state.responses_1.length),\\r\\n                    });\\r\\n                  }\\r\\n                }\\r\\n              }\\r\\n\\r\\n              if (that.state.currentQ == 2) {\\r\\n\\r\\n                if (that.state.contrast_array_2.length < that.state.responses_2.length) {\\r\\n                  that.setState({ contrast_array_2: that.state.contrast_array_2.concat([contrast]) });\\r\\n                  that.setState({ change: true });\\r\\n                }\\r\\n\\r\\n                if (that.state.responses_2.length != that.state.ratings_2.length) {\\r\\n\\r\\n                  if (that.state.responses_2.length > that.state.ratings_2.length) {\\r\\n\\r\\n                    console.log(\\\"response and response time discarded\\\", that.state.responses_2, that.state.response_time_2, that.state.ratings_2, that.state.contrast_array_2);\\r\\n\\r\\n                    that.setState({\\r\\n                      responses_2: that.state.responses_2.slice(0, that.state.ratings_2.length),\\r\\n                      response_time_2: that.state.response_time_2.slice(0, that.state.ratings_2.length),\\r\\n                      counter: that.state.counter - 1,\\r\\n                      contrast_array_2: that.state.contrast_array_2.slice(0, that.state.ratings_2.length)\\r\\n                    });\\r\\n                  }\\r\\n\\r\\n                  else {\\r\\n                    console.log(\\\"rating discarded\\\", that.state.responses_2, that.state.ratings_2, that.state.contrast_array_2);\\r\\n\\r\\n                    that.setState({\\r\\n                      ratings_2: that.state.ratings_2.slice(0, that.state.responses_2.length),\\r\\n                    });\\r\\n                  }\\r\\n                }\\r\\n              }\\r\\n              console.log(\\\"time off \\\", seconds);\\r\\n            }\\r\\n\\r\\n\\r\\n            var r = simplex.noise3D(x / 8, y / 8, t / 8) * 0.4 + 0.35;\\r\\n            data[(x + y * 256) * 4 + 0] = stim.alpha * stimulus_blank[(x + y * 256) * 4 + 0] + (1 - stim.alpha) * r * 250;\\r\\n            data[(x + y * 256) * 4 + 1] = stim.alpha * stimulus_blank[(x + y * 256) * 4 + 1] + (1 - stim.alpha) * r * 250;\\r\\n            data[(x + y * 256) * 4 + 2] = stim.alpha * stimulus_blank[(x + y * 256) * 4 + 2] + (1 - stim.alpha) * r * 250;\\r\\n            data[(x + y * 256) * 4 + 3] = 255;\\r\\n            //if there is no beep, show blank signal\\r\\n          }\\r\\n        }\\r\\n      }\\r\\n      \\r\\n      t++;\\r\\n      ctx.putImageData(imgdata, 0, 0);\\r\\n\\r\\n      var recWidth = canvas.width / 8;\\r\\n      var recHeight = canvas.height / 8;\\r\\n\\r\\n      var xPos = (canvas.width / 2) - (recWidth / 2);\\r\\n\\r\\n      var yPos = (canvas.height / 2) - (recHeight / 2);\\r\\n      var img = new Image();\\r\\n      img.src = \\\"https://www.shareicon.net/data/256x256/2015/12/04/682310_cross_512x512.png\\\";\\r\\n      ctx.fillStyle = \\\"gray\\\";\\r\\n\\r\\n      ctx.fillRect(xPos, yPos, recWidth, recHeight);\\r\\n      ctx.drawImage(img, xPos, yPos, recWidth, recHeight);\\r\\n\\r\\n      if (total == end) {\\r\\n        window.cancelAnimationFrame(intervalId);\\r\\n        that.audioContext.close();\\r\\n        that.setState({ continue: true });\\r\\n        return;\\r\\n      }\\r\\n\\r\\n      if (total < end) {\\r\\n        intervalId = window.requestAnimationFrame(generate_noise);\\r\\n\\r\\n        //console.log(that.state.contrast_array_1, that.state.responses_1);\\r\\n\\r\\n        if (that.state.currentQ == 1 && that.state.change == true) {\\r\\n          console.log(\\\"changing the q\\\")\\r\\n          q_1 = QuestUpdate(q_1, [that.state.contrast_array_1[that.state.contrast_array_1.length - 1]], [that.state.responses_1[that.state.responses_1.length - 1]]);\\r\\n          console.log(QuestQuantile(q_1));\\r\\n          that.setState({ change: false });\\r\\n        }\\r\\n\\r\\n        if (that.state.currentQ == 2 && that.state.change == true) {\\r\\n          q_2 = QuestUpdate(q_2, that.state.contrast_array_1[that.state.contrast_array_1.length - 1], that.state.responses_1[that.state.responses_1.length - 1]);\\r\\n          that.setState({ change: false });\\r\\n        }\\r\\n      }\\r\\n\\r\\n    }\\r\\n\\r\\n    generate_noise.call(that);\\r\\n\\r\\n  }\\r\\n\\r\\n  keyFunction(event) {\\r\\n    var seconds = new Date().getTime() / 1000\\r\\n\\r\\n    if (event.keyCode === 81 && this.state.time_window == true && this.state.currentQ == 1) {\\r\\n\\r\\n      // Set setState\\r\\n      this.setState({\\r\\n        counter: this.state.counter + 1,\\r\\n        responses_1: this.state.responses_1.concat([1]),\\r\\n        response_time_1: this.state.response_time_1.concat([seconds - this.state.time_window_start]),\\r\\n        time_window: false,\\r\\n      });\\r\\n\\r\\n      if (this.state.counter == this.state.limit) {\\r\\n        this.setState({ continue: true });\\r\\n      }\\r\\n\\r\\n    }\\r\\n\\r\\n    if (event.keyCode === 81 && this.state.time_window == true && this.state.currentQ == 2) {\\r\\n\\r\\n      // Set setState\\r\\n      this.setState({\\r\\n        counter2: this.state.counter2 + 1,\\r\\n        responses_2: this.state.responses_2.concat([1]),\\r\\n        response_time_2: this.state.response_time_2.concat([seconds - this.state.time_window_start]),\\r\\n        time_window: false,\\r\\n      });\\r\\n\\r\\n      if (this.state.counter == this.state.limit) {\\r\\n        this.setState({ continue: true });\\r\\n      }\\r\\n\\r\\n    }\\r\\n\\r\\n    if (event.keyCode === 69 && this.state.time_window == true && this.state.currentQ == 1) {\\r\\n      this.setState({\\r\\n        counter: this.state.counter + 1,\\r\\n        responses_1: this.state.responses_1.concat([0]),\\r\\n        response_time_1: this.state.response_time_1.concat([seconds - this.state.time_window_start]),\\r\\n        time_window: false,\\r\\n      });\\r\\n\\r\\n      if (this.state.counter == this.state.limit) {\\r\\n        this.setState({ continue: true });\\r\\n      }\\r\\n    }\\r\\n\\r\\n    if (event.keyCode === 69 && this.state.time_window == true && this.state.currentQ == 2) {\\r\\n      this.setState({\\r\\n        counter: this.state.counter2 + 1,\\r\\n        responses_2: this.state.responses_2.concat([0]),\\r\\n        response_time_2: this.state.response_time_2.concat([seconds - this.state.time_window_start]),\\r\\n        time_window: false,\\r\\n      });\\r\\n\\r\\n      if (this.state.counter == this.state.limit) {\\r\\n        this.setState({ continue: true });\\r\\n      }\\r\\n    }\\r\\n\\r\\n\\r\\n    if ((event.keyCode === 49 || event.keyCode === 50 || event.keyCode === 51 || event.keyCode === 52 || event.keyCode === 53) && this.state.time_window_rating == true) {\\r\\n      if(this.state.currentQ == 1){\\r\\n        this.setState({\\r\\n          ratings_1: this.state.ratings_1.concat([event.keyCode - 48]),\\r\\n          time_window_rating: false,\\r\\n        });\\r\\n      }\\r\\n      else{\\r\\n        this.setState({\\r\\n          ratings_2: this.state.ratings_2.concat([event.keyCode - 48]),\\r\\n          time_window_rating: false,\\r\\n        });\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n\\r\\n  componentDidMount() {\\r\\n    document.addEventListener(\\\"keydown\\\", this.keyFunction, false);\\r\\n    if (this.state.continue == false) {\\r\\n      this.create_noise(this.audioContext);\\r\\n    }\\r\\n  }\\r\\n  componentWillUnmount() {\\r\\n    document.removeEventListener(\\\"keydown\\\", this.keyFunction, false);\\r\\n  }\\r\\n\\r\\n  render() {\\r\\n\\r\\n    if (this.state.continue == true) {\\r\\n      alert(\\\"Trial completed\\\")\\r\\n      return <Redirect to=\\\"/Complete\\\" />\\r\\n    }\\r\\n\\r\\n    return (\\r\\n      <div className=\\\"Trial\\\">\\r\\n        <input type=\\\"hidden\\\" />\\r\\n        <header className=\\\"Trial-header\\\">\\r\\n          <canvas id=\\\"c\\\" width=\\\"256\\\" height=\\\"256\\\"\\r\\n            style={{ zIndex: \\\"0\\\", position: \\\"fixed\\\", left: \\\"25%\\\", width: '50%', height: 'auto' }}></canvas>\\r\\n          <canvas id=\\\"c2\\\" width=\\\"256\\\" height=\\\"256\\\"\\r\\n            style={{ zIndex: \\\"1\\\", position: \\\"fixed\\\", left: \\\"25%\\\", width: '50%', height: 'auto' }}></canvas>\\r\\n        </header>\\r\\n      </div>\\r\\n    );\\r\\n  }\\r\\n}\\r\\n\\r\\nconst mapStateToProps = state => ({\\r\\n  data: state.data,\\r\\n})\\r\\n\\r\\nconst mapDispatchToProps = dispatch => ({\\r\\n  add_response_1: (element) => dispatch(add_response_1(element)),\\r\\n  add_response_time_1: (element) => dispatch(add_response_time_1(element)),\\r\\n  add_contrast_1: (element) => dispatch(add_contrast_1(element)),\\r\\n  add_array: (arr) => dispatch(add_array(arr)),\\r\\n})\\r\\n\\r\\n\\r\\nexport default connect(mapStateToProps, mapDispatchToProps)(TrialQ);\\r\\n\\r\\n\\r\\nfunction beep(amp, freq, ms, audioContext) {//amp:0..100, freq in Hz, ms\\r\\n  if (!audioContext) return;\\r\\n  var osc = audioContext.createOscillator();\\r\\n  var gain = audioContext.createGain();\\r\\n  osc.connect(gain);\\r\\n  osc.value = freq;\\r\\n  gain.connect(audioContext.destination);\\r\\n  gain.gain.value = amp / 100;\\r\\n  osc.start(audioContext.currentTime);\\r\\n  osc.stop(audioContext.currentTime + ms / 1000);\\r\\n}\\r\\n\\r\\n//array shuffling function, used to randomize order of presentation for different blocks\\r\\nfunction shuffle(array) {\\r\\n  var i = 0\\r\\n  var j = 0\\r\\n  var temp = null\\r\\n\\r\\n  for (i = array.length - 1; i > 0; i -= 1) {\\r\\n    j = Math.floor(Math.random() * (i + 1))\\r\\n    temp = array[i]\\r\\n    array[i] = array[j]\\r\\n    array[j] = temp\\r\\n  }\\r\\n}\\r\\n\\r\\n\",\"import React from \\\"react\\\";\\r\\nimport { Route, Switch } from \\\"react-router-dom\\\";\\r\\nimport Welcome from \\\"./containers/Welcome\\\";\\r\\nimport Instructions from \\\"./containers/Instructions\\\";\\r\\nimport Trial from \\\"./containers/Trial\\\";\\r\\nimport NotFound from \\\"./containers/NotFound\\\";\\r\\nimport Complete from \\\"./containers/Complete\\\";\\r\\nimport TrialQ from \\\"./containers/TrialQ\\\";\\r\\n\\r\\nexport default () =>\\r\\n  <Switch>\\r\\n    <Route path=\\\"/\\\" exact component={Welcome} />\\r\\n    <Route path=\\\"/Welcome\\\" exact component={Welcome} />\\r\\n    <Route path=\\\"/Instructions\\\" exact component={Instructions} />\\r\\n    <Route path=\\\"/Trial\\\" exact component={Trial} />\\r\\n    <Route path=\\\"/Complete\\\" exact component={Complete} />\\r\\n    <Route path=\\\"/TrialQ\\\" exact component={TrialQ} />\\r\\n        { /* Finally, catch all unmatched routes */ }\\r\\n    <Route component={NotFound} />\\r\\n  </Switch>;\",\"import React, { Component } from 'react';\\nimport './App.css';\\nimport Routes from \\\"./Routes\\\";\\n\\nclass App extends Component {\\n\\n  render() {\\n\\n    return (\\n      <div>\\n        <Routes />\\n      </div>\\n    );\\n  }\\n}\\n\\nexport default App;\\n\",\"const initialState = {\\r\\n  responses_1 :[],\\r\\n  responses_2 :[],\\r\\n\\r\\n  response_time_1 :[],\\r\\n  response_time_2 :[],\\r\\n\\r\\n  contrast_1 :[],\\r\\n  contrast_2 :[],\\r\\n  test: 1, \\r\\n}\\r\\n\\r\\n\\r\\nconst rtReducer = (state = initialState, action) => {\\r\\n    switch (action.type) {\\r\\n      case 'ADD_ARRAY':\\r\\n        return state + 1\\r\\n      case 'ADD_RESPONSE_1':\\r\\n        return {\\r\\n          ...state,\\r\\n          responses_1: [...state.responses_1, action.payload]\\r\\n        }\\r\\n      case 'ADD_RESPONSE_TIME_1':\\r\\n        return {\\r\\n          ...state,\\r\\n          response_time_1: [...state.response_time_1, action.payload]\\r\\n        }\\r\\n      case 'ADD_CONTRAST_1':\\r\\n        return {\\r\\n          ...state,\\r\\n          contrast_1: [...state.contrast_1, action.payload]\\r\\n        }\\r\\n      default:\\r\\n        return state\\r\\n    }\\r\\n  }\\r\\n  \\r\\n  export default rtReducer\",\"import { combineReducers } from 'redux'\\nimport { connectRouter } from 'connected-react-router'\\nimport rtReducer from './data'\\n\\nconst rootReducer = (history) => combineReducers({\\n  data: rtReducer,\\n  router: connectRouter(history)\\n})\\n\\nexport default rootReducer\",\"import { createBrowserHistory } from 'history'\\r\\nimport { applyMiddleware, compose, createStore } from 'redux'\\r\\nimport { routerMiddleware } from 'connected-react-router'\\r\\nimport createRootReducer from './reducers'\\r\\n\\r\\nexport const history = createBrowserHistory()\\r\\n\\r\\nexport default function configureStore(preloadedState) {\\r\\n  const composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\\r\\n  const store = createStore(\\r\\n    createRootReducer(history),\\r\\n    preloadedState,\\r\\n    composeEnhancer(\\r\\n      applyMiddleware(\\r\\n        routerMiddleware(history),\\r\\n      ),\\r\\n    ),\\r\\n  )\\r\\n\\r\\n  // Hot reloading\\r\\n  if (module.hot) {\\r\\n    // Enable Webpack hot module replacement for reducers\\r\\n    module.hot.accept('./reducers', () => {\\r\\n      store.replaceReducer(createRootReducer(history));\\r\\n    });\\r\\n  }\\r\\n\\r\\n  return store\\r\\n}\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\nimport { BrowserRouter as Router } from \\\"react-router-dom\\\";\\n\\nimport { createStore, combineReducers } from 'redux'\\nimport { Provider } from 'react-redux'\\nimport configureStore, { history } from './configureStore'\\nimport createHistory from 'history/createBrowserHistory';\\n\\n\\nconst store = configureStore( { history } );\\n\\nReactDOM.render(\\n\\t<Provider store={store}>\\n\\t    <Router history={history} basename={process.env.PUBLIC_URL}>\\n\\t      <App />\\n\\t    </Router>\\n\\t</Provider>, \\n    document.getElementById(\\\"root\\\")\\n  );\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,n){},198:function(e,t,n){e.exports=n.p+\"static/media/psych_logo.6956dbda.jpg\"},203:function(e,t,n){e.exports=n(661)},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},656:function(e,t,n){},659:function(e,t,n){},660:function(e,t,n){},661:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),s=n(106),i=n.n(s),o=(n(210),n(35)),c=n(36),l=n(39),u=n(37),h=n(38),m=(n(211),n(43)),d=n(13),p=n(198),_=n.n(p);n(212),n(109);function f(e){return void 0===e||0==e.length}function g(e,t,a,r,s,i,o,c,l){var u=arguments.length,h=0;if(u>9||u<6)throw new Error(\"Incorrect number of arguments\");if((u<7||f(o))&&(o=.01),u<8||f(c))h=500;else{if(c<=0)throw new Error(\"Range must be greater than 0\");h=c/o,h=2*Math.ceil(h/2)}if((u<9||f(l))&&(l=0),!isFinite(e)||isNaN(e))throw new Error(\"tGuess must be real and finite\");var m=function(e,t,n,a,r,s,i,o){return{updatePdf:1,warnPdf:1,normalizePdf:1,tGuess:e,tGuessSd:t,pThreshold:n,xThreshold:0,beta:a,delta:r,gamma:s,grain:i,dim:o,i:[],x:[],x2:[],p2:[],s2:[],intensity:[],response:[],trialCount:0,quantileOrder:0}}(e,t,a,r,s,i,o,h);return m=function(e,t){var a=n(85);if(arguments.length<1)throw new Error(\"Usage: QuestRecompute( q, plotIt = 0 )\");if(!e.updatePdf)return;e.gamma>e.pThreshold&&(console.log(\"Reducing gamma from %.2f to 0.5\"),e.gamma=.5);(arguments.length<2||f(t))&&(t=0);e.i=[],e.x=[],e.x2=[],e.p2=[],e.s2=[];for(var r=-e.dim/2;r<=e.dim/2;r++)e.i.push(r);e.x=e.i.map(function(t){return t*e.grain});var s=e.x.map(function(t){return t/e.tGuessSd}),i=s.map(function(e){return Math.pow(e,2)});e.pdf=i.map(function(e){return-.5*e}).map(function(e){return Math.exp(e)});var o=b(e.pdf);e.pdf=e.pdf.map(function(e){return e/o});var c=[];for(r=-e.dim;r<=e.dim;r++)c.push(r);e.x2=c.map(function(t){return a.eval(t+\"*\"+e.grain)}),s=e.x2.map(function(t){return a.eval(t+\"*\"+e.beta)}),e.p2=s.map(function(t){return a.eval(e.delta+\"*\"+e.gamma+\"+(1-\"+e.delta+\")*(1-(1-\"+e.gamma+\")*e^(-10 ^ \"+t+\"))\")});if(Math.min(e.p2[0],e.p2[e.p2.length-1])>e.pThreshold||Math.max(e.p2[0],e.p2[e.p2.length-1])<e.pThreshold)throw new Error(\"psychometric function range [\"+Math.min.apply(null,e.p2)+\" \"+Math.max.apply(null,e.p2)+\" ] omits \"+e.pThreshold+\" threshold\");var l=n(104).linear;e.xThreshold=l(e.pThreshold,e.x2,e.p2);for(var r=0;r<e.p2.length;r++)if(!isFinite(e.p2[r]))throw new Error(\"psychometric function p2 is not finite\"+r);var u=e.p2.slice(),h=(u=u.reverse()).map(function(e){return 1-e}),m=u;if(e.s2[0]=h,e.s2[1]=m,void 0==e.intensity||void 0==e.response){var d=new Array(1e4).fill(0);e.trialCount=0,e.intensity=d,e.response=d}for(var p=0;p<e.s2.length;p++)for(r=0;r<e.s2[p].length;r++)if(!isFinite(e.s2[p][r]))throw new Error(\"psychometric function s2 is not finite\"+r);var _=e.p2[0],g=e.p2[e.p2.length-1],y=g*Math.log(g+Number.EPSILON)-_*Math.log(_+Number.EPSILON)+(1-g+Number.EPSILON)*Math.log(1-g+Number.EPSILON)-(1-_+Number.EPSILON)*Math.log(1-_+Number.EPSILON);y=1/(1+Math.exp(y/(_-g))),e.quantileOrder=(y-_)/(g-_);for(var w=0;w<e.pdf.length;w++)if(!isFinite(e.pdf[w]))throw new Error(\"prior pdf is not finite\");for(p=0;p<e.trialCount;p++){var E=Math.max(-1e10,Math.min(1e10,e.intensity[p])),v=e.i.map(function(t){return e.pdf.length+t-Math.round((E-e.tGuess)/e.grain)});v[0]<1&&(v=v.map(function(e){return e+1-v[0]})),v[v.length-1]>e.s2[0].length&&(v=v.map(function(t){return t+e.s2.length-v[v.length-1]}));var k=v.map(function(t){return e.s2[e.response[p]][t]});for(r=0;r<k.length;r++)e.pdf[r]=e.pdf[r]*k[r];0==e.normalizePdf&&p%100==0&&function(){var t=b(e.pdf);e.pdf=e.pdf.map(function(e){return e/t})}()}if(e.normalizePdf){var O=b(e.pdf);e.pdf=e.pdf.map(function(e){return e/O})}for(r=0;r<e.pdf.length;r++)if(!isFinite(e.pdf[r]))throw new Error(\"pdf is not finite\");return e}(m,l)}function y(e,t,n){if(3!=arguments.length)throw new Error(\"Incorrect number of parameters (3) \");if(void 0===e)throw new Error(\"q is undefined \");if(!isFinite(t)||isNaN(t))throw new Error(\"Intensity must be real, not complex\");if(n<0||n>=e.s2.length)throw new Error(\"response \"+n+\" is out of range 0 to \"+e.s2.length);if(1==e.updatePdf){var a=Math.max(-1e10,Math.min(1e10,t)),r=e.i.map(function(t){return e.pdf.length+t-Math.round((a-e.tGuess)/e.grain)});if(r[0]<1||r[r.length-1]>e.s2[0].length){if(1==e.warnPdf){var s=(1-e.pdf.length-e.i[0])*e.grain+e.tGuess,i=(e.s2[0].length-e.pdf.length-e.i[e.i.length-1])*e.grain+e.tGuess;alert(\"QuestUpdate: intensity \"+a+\" out of range \"+s+\" to \"+i+'. Pdf will be inexact. Suggest that you increase \"range\" in call to QuestCreate.')}r=r[0]<1?r.map(function(e){return e+1-r[0]}):r.map(function(t){return t+e.s2[0].length-r[r.length-1]})}for(var o=0;o<r.length;o++)e.pdf[o]=e.pdf[o]*e.s2[n][r[o]];if(e.normalizePdf){var c=b(e.pdf);e.pdf=e.pdf.map(function(e){return e/c})}}if(e.trialCount+=1,e.trialCount>e.intensity.length)for(var l=0;l<1e4;l++)e.intensity.push(0),e.response.push(0);for(var u=0;u<e.trialCount;u++)e.intensity[u]=.5,e.response[u]=n;return e}function w(e,t){if(arguments.length>2)throw new Error(\"Usage: intensity=QuestQuantile(q,[quantileOrder])\");if(arguments.length<2&&(t=e.quantileOrder),t>1||t<0)throw new Error(\"quantileOrder\"+t+\" is outside range 0 to 1.\");var a=function(e){var t=[];return e.reduce(function(e,n,a){return t[a]=e+n},0),t}(e.pdf);if(!isFinite(a[a.length-1]))throw new Error(\"pdf is not finite\");if(0==a[a.length-1])throw new Error(\"pdf is all zero\");if(t<a[0])return e.tGuess+e.x[0];if(t>a[a.length-1])return e.tGuess+e.x[e.x.length-1];var r=a.slice();r.unshift(-1);var s=function(e){for(var t=[],n=0;n<e.length;n++)e[n]>0&&t.push(n);return t}(function(e){for(var t=[],n=0;n<e.length-1;n++)t.push(e[n+1]-e[n]);return t}(r));if(s.length<2)throw new Error(\"pdf has only \"+s.length+\" nonzero point(s)\");var i=n(104).linear,o=E(a,s),c=E(e.x,s);return e.tGuess+i(t*a[a.length-1],o,c)[0]}function E(e,t){for(var n=[],a=0;a<t.length;a++)n.push(e[t[a]]);return n}function b(e){return e.reduce(function(e,t){return e+t},0)}var v=n(29),k=function(e){return{type:\"ADD_RESPONSE_1\",payload:e}},O=function(e){return{type:\"ADD_RESPONSE_TIME_1\",payload:e}},S=function(e){return{type:\"ADD_CONTRAST_1\",payload:e}},C=function(e){return{type:\"ADD_ARRAY\",payload:e}},x=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).keyFunction=n.keyFunction.bind(Object(d.a)(Object(d.a)(n))),n.state={continue:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:\"keyFunction\",value:function(e){81===e.keyCode&&(alert(\"User has Requested to Continue\"),this.setState(function(e,t){return{continue:!0}}))}},{key:\"componentDidMount\",value:function(){document.addEventListener(\"keydown\",this.keyFunction,!1)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"keydown\",this.keyFunction,!1)}},{key:\"render\",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:\"/Instructions\"}):r.a.createElement(\"div\",{className:\"Welcome\"},r.a.createElement(\"input\",{type:\"hidden\"}),r.a.createElement(\"header\",{className:\"Welcome-header\"},r.a.createElement(\"div\",{className:\"text-container\"},r.a.createElement(\"p\",{className:\"Welcome-text\"},r.a.createElement(\"span\",{className:\"bigger\"},\"Welcome to the study! \"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\"Please enter responses to the questions asked by pressing the:\",r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"b\",null,\" 'Q' key for 'YES I SEE IT'\"),\" or \",r.a.createElement(\"b\",null,\" 'E' key for \\\"NO I DO NOT'\"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\" Sometimes it may be difficult to answer, but if you do not know, please make your best guess.\",r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\" PRESS the \",r.a.createElement(\"b\",null,\" YES I SEE IT / 'Q' key\"),\" to CONTINUE\")),r.a.createElement(\"a\",{href:\"https://medicine.yale.edu/psychiatry/care/cmhc/\",title:\"Learn more about the Connecticut Mental Health Center\",target:\"_blank\",rel:\"noopener noreferrer\"},r.a.createElement(\"img\",{src:_.a,className:\"Site-link\",alt:\"logo\"}))))}}]),t}(a.Component),j=Object(v.c)(function(e){return{data:e.data}},function(e){return{add_response_1:function(t){return e(k(t))},add_array:function(t){return e(C(t))}}})(x),N=(n(656),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).keyFunction=n.keyFunction.bind(Object(d.a)(Object(d.a)(n))),n.state={continue:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:\"keyFunction\",value:function(e){81===e.keyCode&&(alert(\"User has Requested to Continue\"),this.setState(function(e,t){return{continue:!0}}))}},{key:\"componentDidMount\",value:function(){document.addEventListener(\"keydown\",this.keyFunction,!1)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"keydown\",this.keyFunction,!1)}},{key:\"render\",value:function(){return!0===this.state.continue?r.a.createElement(m.a,{to:\"/Trial\"}):r.a.createElement(\"div\",{className:\"Instructions\"},r.a.createElement(\"input\",{type:\"hidden\"}),r.a.createElement(\"header\",{className:\"Instructions-header\"},r.a.createElement(\"div\",{className:\"text-container\"},r.a.createElement(\"p\",{className:\"Instructions-text\"},\"This is a vision test.\",r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\" A visual white noise will be shown throughout the experiment.\",r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\" A striped-texture will appear inside the white noise when a tone is played.\",r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\" Press \",r.a.createElement(\"b\",null,' \"Q\"/YES '),\" if you \",r.a.createElement(\"b\",null,\" DO \"),\"see the stripes.\",r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\" Press \",r.a.createElement(\"b\",null,' \"E\"/NO '),\" if you \",r.a.createElement(\"b\",null,\" DO NOT \"),\" see the stripes.\",r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\" Please respond as \",r.a.createElement(\"b\",null,\" QUICKLY \"),\" and as \",r.a.createElement(\"b\",null,\" ACCURATELY \"),\" as you \",r.a.createElement(\"b\",null,\" POSSIBLY CAN \"),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),' PRESS \"Q\"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}]),t}(a.Component)),T=n(74),I=n.n(T),M=n(108);n(195);function D(){var e={background:127.5,angle:Math.floor(135*Math.random())+45,imsize:256,initcontrast:.5,threshold:.2,phases:[0,.25],phase:0,alpha:.5,ppd:160,frequency:0};return e.phase=e.phases[Math.round(Math.random())],e.frequency=2/e.ppd,e}function F(e,t){for(var n=[],a=[],r=1;r<e.imsize+1;r++)for(var s=1;s<e.imsize+1;s++)n[4*(r-1+(s-1)*e.imsize)+0]=r-(e.imsize+1)/2,n[4*(r-1+(s-1)*e.imsize)+1]=r-(e.imsize+1)/2,n[4*(r-1+(s-1)*e.imsize)+2]=r-(e.imsize+1)/2,n[4*(r-1+(s-1)*e.imsize)+3]=r-(e.imsize+1)/2,a[4*(r-1+(s-1)*e.imsize)+0]=s-(e.imsize+1)/2,a[4*(r-1+(s-1)*e.imsize)+1]=s-(e.imsize+1)/2,a[4*(r-1+(s-1)*e.imsize)+2]=s-(e.imsize+1)/2,a[4*(r-1+(s-1)*e.imsize)+3]=s-(e.imsize+1)/2;for(var i=[],o=0;o<n.length&&o<a.length;o++)i[o]=.5*Math.cos(2*Math.PI*(e.frequency*(Math.sin(Math.PI/180*e.angle)*n[o]+Math.cos(Math.PI/180*e.angle)*a[o])+e.phase))*t;return i.map(function(t){return e.background+t*e.background})}var P=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).keyFunction=n.keyFunction.bind(Object(d.a)(Object(d.a)(n))),n.create_noise=n.create_noise.bind(Object(d.a)(Object(d.a)(n))),n.state={continue:!1,counter:0,responses_1:[],contrast_array_1:[],response_time_1:[],ratings_1:[],responses_2:[],contrast_array_2:[],response_time_2:[],ratings_2:[],time_window:!1,time_window_start:0,time_window_rating:!1,limit:100,contrast_flag:1},n.canvasRef=r.a.createRef(),n.audioContext=new AudioContext,n}return Object(h.a)(t,e),Object(c.a)(t,[{key:\"create_noise\",value:function(e,t){var a,r=[.2,.5,.75],s=r.length,i=r,o=0,c=new(n(196)),l=document.getElementById(\"c\"),u=l.getContext(\"2d\"),h=u.getImageData(0,0,l.width,l.height),m=h.data,d=0,p=D(),_=F(p,0),f=Math.floor(20*Math.random()),g=100,y=0,w=void 0,E=this;function b(){return v.apply(this,arguments)}function v(){return(v=Object(M.a)(I.a.mark(function t(){var n,r,v,k,O,S,C,x,j,N;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(d==g+f&&(o=E.state.counter,y=i[o++],console.log(y),n=(new Date).getTime()/1e3,console.log(\"time on \",n),E.setState({time_window:!0,time_window_rating:!0,time_window_start:n}),console.log(E.state.responses_1,E.state.ratings_1,E.state.response_time_1,E.state.contrast_array_1),a=F(p,y),z(50,830,300,e)),r=0;r<256;r++)for(v=0;v<256;v++)d==g+f||d==g+f+1||d==g+f+2||d==g+f+3||d==g+f+4||d==g+f+5||d==g+f+6||d==g+f+7||d==g+f+8||d==g+f+9||d==g+f+10||d==g+f+11||d==g+f+12||d==g+f+13||d==g+f+14||d==g+f+15||d==g+f+16||d==g+f+17||d==g+f+18||d==g+f+19||d==g+f+20||d==g+f+21||d==g+f+22||d==g+f+23||d==g+f+24||d==g+f+25||d==g+f+26||d==g+f+27||d==g+f+28||d==g+f+29||d==g+f+30?(d==g+f+30&&(d=0),k=.4*c.noise3D(r/8,v/8,d/8)+.35,m[4*(r+256*v)+0]=p.alpha*a[4*(r+256*v)+0]+(1-p.alpha)*k*250,m[4*(r+256*v)+1]=p.alpha*a[4*(r+256*v)+1]+(1-p.alpha)*k*250,m[4*(r+256*v)+2]=p.alpha*a[4*(r+256*v)+2]+(1-p.alpha)*k*250,m[4*(r+256*v)+3]=255):(n=(new Date).getTime()/1e3,E.state.time_window_start+2==n&&(E.setState({time_window:!1,time_window_rating:!1}),E.state.contrast_array_1.length<E.state.responses_1.length&&E.setState({contrast_array_1:E.state.contrast_array_1.concat([y])}),E.state.responses_1.length!=E.state.ratings_1.length&&(E.state.responses_1.length>E.state.ratings_1.length?(console.log(\"response and response time discarded\",E.state.responses_1,E.state.response_time_1,E.state.ratings_1,E.state.contrast_array_1),E.setState({responses_1:E.state.responses_1.slice(0,E.state.ratings_1.length),response_time_1:E.state.response_time_1.slice(0,E.state.ratings_1.length),counter:E.state.counter-1,contrast_array_1:E.state.contrast_array_1.slice(0,E.state.ratings_1.length)})):(console.log(\"rating discarded\",E.state.responses_1,E.state.ratings_1,E.state.contrast_array_1),E.setState({ratings_1:E.state.ratings_1.slice(0,E.state.responses_1.length)}))),console.log(\"time off \",n)),k=.4*c.noise3D(r/8,v/8,d/8)+.35,m[4*(r+256*v)+0]=p.alpha*_[4*(r+256*v)+0]+(1-p.alpha)*k*250,m[4*(r+256*v)+1]=p.alpha*_[4*(r+256*v)+1]+(1-p.alpha)*k*250,m[4*(r+256*v)+2]=p.alpha*_[4*(r+256*v)+2]+(1-p.alpha)*k*250,m[4*(r+256*v)+3]=255);if(d++,u.putImageData(h,0,0),O=l.width/8,S=l.height/8,C=l.width/2-O/2,x=l.height/2-S/2,(j=new Image).src=\"https://www.shareicon.net/data/256x256/2015/12/04/682310_cross_512x512.png\",u.fillStyle=\"gray\",u.fillRect(C,x,O,S),u.drawImage(j,C,x,O,S),o!=s){t.next=19;break}for(window.cancelAnimationFrame(w),N=0;N<s;N++)E.props.add_response_1(E.state.responses_1[N]),E.props.add_response_time_1(E.state.response_time_1[N]),E.props.add_contrast_1(E.state.contrast_array_1[N]);return E.audioContext.close(),E.setState({continue:!0}),t.abrupt(\"return\");case 19:o<s&&(w=window.requestAnimationFrame(b));case 20:case\"end\":return t.stop()}},t)}))).apply(this,arguments)}b.call(E)}},{key:\"keyFunction\",value:function(e){var t=(new Date).getTime()/1e3;81===e.keyCode&&1==this.state.time_window&&(this.setState({counter:this.state.counter+1,responses_1:this.state.responses_1.concat([1]),response_time_1:this.state.response_time_1.concat([t-this.state.time_window_start]),time_window:!1}),this.state.counter==this.state.limit&&this.setState({continue:!0})),69===e.keyCode&&1==this.state.time_window&&(this.setState({counter:this.state.counter+1,responses_1:this.state.responses_1.concat([0]),response_time_1:this.state.response_time_1.concat([t-this.state.time_window_start]),time_window:!1}),this.state.counter==this.state.limit&&this.setState({continue:!0})),49!==e.keyCode&&50!==e.keyCode&&51!==e.keyCode&&52!==e.keyCode&&53!==e.keyCode||1!=this.state.time_window_rating||this.setState({ratings_1:this.state.ratings_1.concat([e.keyCode-48]),time_window_rating:!1})}},{key:\"componentDidMount\",value:function(){document.addEventListener(\"keydown\",this.keyFunction,!1),0==this.state.continue&&this.create_noise(this.audioContext)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"keydown\",this.keyFunction,!1)}},{key:\"render\",value:function(){return 1==this.state.continue?(alert(\"Trial completed\"),r.a.createElement(m.a,{to:\"/Complete\"})):r.a.createElement(\"div\",{className:\"Trial\"},r.a.createElement(\"input\",{type:\"hidden\"}),r.a.createElement(\"header\",{className:\"Trial-header\"},r.a.createElement(\"canvas\",{id:\"c\",width:\"256\",height:\"256\",style:{zIndex:\"0\",position:\"fixed\",left:\"25%\",width:\"50%\",height:\"auto\"}}),r.a.createElement(\"canvas\",{id:\"c2\",width:\"256\",height:\"256\",style:{zIndex:\"1\",position:\"fixed\",left:\"25%\",width:\"50%\",height:\"auto\"}})))}}]),t}(a.Component),R=Object(v.c)(function(e){return{data:e.data}},function(e){return{add_response_1:function(t){return e(k(t))},add_response_time_1:function(t){return e(O(t))},add_contrast_1:function(t){return e(S(t))},add_array:function(t){return e(C(t))}}})(P);function z(e,t,n,a){if(a){var r=a.createOscillator(),s=a.createGain();r.connect(s),r.value=t,s.connect(a.destination),s.gain.value=e/100,r.start(a.currentTime),r.stop(a.currentTime+n/1e3)}}n(659);var A=function(){return r.a.createElement(\"div\",{className:\"NotFound\"},r.a.createElement(\"h3\",null,\"Sorry, page not found!\"))},Q=(n(660),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).keyFunction=n.keyFunction.bind(Object(d.a)(Object(d.a)(n))),n.state={continue:!1},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:\"keyFunction\",value:function(e){81===e.keyCode&&(alert(\"User has Requested to Continue\"),this.setState(function(e,t){return{continue:!0}}))}},{key:\"componentDidMount\",value:function(){document.addEventListener(\"keydown\",this.keyFunction,!1)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"keydown\",this.keyFunction,!1)}},{key:\"render\",value:function(){return console.log(this.props.data),!0===this.state.continue?r.a.createElement(m.a,{to:\"/TrialQ\"}):r.a.createElement(\"div\",{className:\"Complete\"},r.a.createElement(\"header\",{className:\"Complete-header\"},r.a.createElement(\"div\",{className:\"text-container\"},r.a.createElement(\"p\",{className:\"Complete-text\"},\"Congratulations\",r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\" You have completed the first trial\",r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\" You responses have been recorded:\",r.a.createElement(\"br\",null),r.a.createElement(\"br\",null),\"Responses:\",this.props.data.responses_1.map(function(e,t){return r.a.createElement(\"li\",{key:t,style:{listStyleType:\"none\"}},e)}),\"Response Times:\",this.props.data.response_time_1.map(function(e,t){return r.a.createElement(\"li\",{key:t,style:{listStyleType:\"none\"}},e)}),\"Contrasts:\",this.props.data.contrast_1.map(function(e,t){return r.a.createElement(\"li\",{key:t,style:{listStyleType:\"none\"}},e)}),r.a.createElement(\"br\",null),r.a.createElement(\"br\",null)))))}}]),t}(a.Component)),L=Object(v.c)(function(e){return{data:e.data}})(Q),q=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).keyFunction=n.keyFunction.bind(Object(d.a)(Object(d.a)(n))),n.create_noise=n.create_noise.bind(Object(d.a)(Object(d.a)(n))),n.state={continue:!1,counter:0,counter2:0,change:!1,responses_1:[],contrast_array_1:[],response_time_1:[],ratings_1:[],responses_2:[],contrast_array_2:[],response_time_2:[],ratings_2:[],time_window:!1,time_window_start:0,time_window_rating:!1,limit:100,rating_window:!0,currentQ:1},n.canvasRef=r.a.createRef(),n.audioContext=new AudioContext,n}return Object(h.a)(t,e),Object(c.a)(t,[{key:\"create_noise\",value:function(e,t){var a,r=80,s=0,i=0,o=0,c=[0,.5,1,0,.5,1,0,.5,1,0,.5,1],l=(r=c.length,new(n(196))),u=document.getElementById(\"c\"),h=u.getContext(\"2d\"),m=h.getImageData(0,0,u.width,u.height),d=m.data,p=0,_=.5,f=g(_,.1,.75,3.5,.01,.01,.001,20),E=g(_,.1,.75,3.5,.01,.01,.001,20),b=D(),v=F(b,0),k=Math.floor(20*Math.random()),O=100,S=0,C=void 0,x=this;function j(){return N.apply(this,arguments)}function N(){return(N=Object(M.a)(I.a.mark(function t(){var n,c,g,N,T,M,D,P,R;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(p==O+k&&(s=x.state.counter,i=x.state.counter2,o=s+i,console.log(w(f),w(E)),s==i&&x.setState({currentQ:1}),s!=i&&(i++,x.setState({currentQ:2})),1==x.state.currentQ&&(S=(s=0)?_+.3:w(f)),2==x.state.currentQ&&(S=(i=0)?_-.3:w(E)),console.log(S),n=(new Date).getTime()/1e3,console.log(\"time on \",n),x.setState({time_window:!0,time_window_rating:!0,time_window_start:n}),console.log(\"for 1\",x.state.responses_1,x.state.ratings_1,x.state.response_time_1,x.state.contrast_array_1),console.log(\"for 2\",x.state.responses_2,x.state.ratings_2,x.state.response_time_2,x.state.contrast_array_2),a=F(b,S),G(50,830,300,e)),c=0;c<256;c++)for(g=0;g<256;g++)p==O+k||p==O+k+1||p==O+k+2||p==O+k+3||p==O+k+4||p==O+k+5||p==O+k+6||p==O+k+7||p==O+k+8||p==O+k+9||p==O+k+10||p==O+k+11||p==O+k+12||p==O+k+13||p==O+k+14||p==O+k+15||p==O+k+16||p==O+k+17||p==O+k+18||p==O+k+19||p==O+k+20||p==O+k+21||p==O+k+22||p==O+k+23||p==O+k+24||p==O+k+25||p==O+k+26||p==O+k+27||p==O+k+28||p==O+k+29||p==O+k+30?(p==O+k+30&&(p=0),N=.4*l.noise3D(c/8,g/8,p/8)+.35,d[4*(c+256*g)+0]=b.alpha*a[4*(c+256*g)+0]+(1-b.alpha)*N*250,d[4*(c+256*g)+1]=b.alpha*a[4*(c+256*g)+1]+(1-b.alpha)*N*250,d[4*(c+256*g)+2]=b.alpha*a[4*(c+256*g)+2]+(1-b.alpha)*N*250,d[4*(c+256*g)+3]=255):(n=(new Date).getTime()/1e3,x.state.time_window_start+2==n&&(x.setState({time_window:!1,time_window_rating:!1}),1==x.state.currentQ&&(x.state.contrast_array_1.length<x.state.responses_1.length&&(x.setState({contrast_array_1:x.state.contrast_array_1.concat([S])}),x.setState({change:!0})),x.state.responses_1.length!=x.state.ratings_1.length&&(x.state.responses_1.length>x.state.ratings_1.length?(console.log(\"response and response time discarded\",x.state.responses_1,x.state.response_time_1,x.state.ratings_1,x.state.contrast_array_1),x.setState({responses_1:x.state.responses_1.slice(0,x.state.ratings_1.length),response_time_1:x.state.response_time_1.slice(0,x.state.ratings_1.length),counter:x.state.counter-1,contrast_array_1:x.state.contrast_array_1.slice(0,x.state.ratings_1.length)})):(console.log(\"rating discarded\",x.state.responses_1,x.state.ratings_1,x.state.contrast_array_1),x.setState({ratings_1:x.state.ratings_1.slice(0,x.state.responses_1.length)})))),2==x.state.currentQ&&(x.state.contrast_array_2.length<x.state.responses_2.length&&(x.setState({contrast_array_2:x.state.contrast_array_2.concat([S])}),x.setState({change:!0})),x.state.responses_2.length!=x.state.ratings_2.length&&(x.state.responses_2.length>x.state.ratings_2.length?(console.log(\"response and response time discarded\",x.state.responses_2,x.state.response_time_2,x.state.ratings_2,x.state.contrast_array_2),x.setState({responses_2:x.state.responses_2.slice(0,x.state.ratings_2.length),response_time_2:x.state.response_time_2.slice(0,x.state.ratings_2.length),counter:x.state.counter-1,contrast_array_2:x.state.contrast_array_2.slice(0,x.state.ratings_2.length)})):(console.log(\"rating discarded\",x.state.responses_2,x.state.ratings_2,x.state.contrast_array_2),x.setState({ratings_2:x.state.ratings_2.slice(0,x.state.responses_2.length)})))),console.log(\"time off \",n)),N=.4*l.noise3D(c/8,g/8,p/8)+.35,d[4*(c+256*g)+0]=b.alpha*v[4*(c+256*g)+0]+(1-b.alpha)*N*250,d[4*(c+256*g)+1]=b.alpha*v[4*(c+256*g)+1]+(1-b.alpha)*N*250,d[4*(c+256*g)+2]=b.alpha*v[4*(c+256*g)+2]+(1-b.alpha)*N*250,d[4*(c+256*g)+3]=255);if(p++,h.putImageData(m,0,0),T=u.width/8,M=u.height/8,D=u.width/2-T/2,P=u.height/2-M/2,(R=new Image).src=\"https://www.shareicon.net/data/256x256/2015/12/04/682310_cross_512x512.png\",h.fillStyle=\"gray\",h.fillRect(D,P,T,M),h.drawImage(R,D,P,T,M),o!=r){t.next=18;break}return window.cancelAnimationFrame(C),x.audioContext.close(),x.setState({continue:!0}),t.abrupt(\"return\");case 18:o<r&&(C=window.requestAnimationFrame(j),1==x.state.currentQ&&1==x.state.change&&(console.log(\"changing the q\"),f=y(f,[x.state.contrast_array_1[x.state.contrast_array_1.length-1]],[x.state.responses_1[x.state.responses_1.length-1]]),console.log(w(f)),x.setState({change:!1})),2==x.state.currentQ&&1==x.state.change&&(E=y(E,x.state.contrast_array_1[x.state.contrast_array_1.length-1],x.state.responses_1[x.state.responses_1.length-1]),x.setState({change:!1})));case 19:case\"end\":return t.stop()}},t)}))).apply(this,arguments)}j.call(x)}},{key:\"keyFunction\",value:function(e){var t=(new Date).getTime()/1e3;81===e.keyCode&&1==this.state.time_window&&1==this.state.currentQ&&(this.setState({counter:this.state.counter+1,responses_1:this.state.responses_1.concat([1]),response_time_1:this.state.response_time_1.concat([t-this.state.time_window_start]),time_window:!1}),this.state.counter==this.state.limit&&this.setState({continue:!0})),81===e.keyCode&&1==this.state.time_window&&2==this.state.currentQ&&(this.setState({counter2:this.state.counter2+1,responses_2:this.state.responses_2.concat([1]),response_time_2:this.state.response_time_2.concat([t-this.state.time_window_start]),time_window:!1}),this.state.counter==this.state.limit&&this.setState({continue:!0})),69===e.keyCode&&1==this.state.time_window&&1==this.state.currentQ&&(this.setState({counter:this.state.counter+1,responses_1:this.state.responses_1.concat([0]),response_time_1:this.state.response_time_1.concat([t-this.state.time_window_start]),time_window:!1}),this.state.counter==this.state.limit&&this.setState({continue:!0})),69===e.keyCode&&1==this.state.time_window&&2==this.state.currentQ&&(this.setState({counter:this.state.counter2+1,responses_2:this.state.responses_2.concat([0]),response_time_2:this.state.response_time_2.concat([t-this.state.time_window_start]),time_window:!1}),this.state.counter==this.state.limit&&this.setState({continue:!0})),49!==e.keyCode&&50!==e.keyCode&&51!==e.keyCode&&52!==e.keyCode&&53!==e.keyCode||1!=this.state.time_window_rating||(1==this.state.currentQ?this.setState({ratings_1:this.state.ratings_1.concat([e.keyCode-48]),time_window_rating:!1}):this.setState({ratings_2:this.state.ratings_2.concat([e.keyCode-48]),time_window_rating:!1}))}},{key:\"componentDidMount\",value:function(){document.addEventListener(\"keydown\",this.keyFunction,!1),0==this.state.continue&&this.create_noise(this.audioContext)}},{key:\"componentWillUnmount\",value:function(){document.removeEventListener(\"keydown\",this.keyFunction,!1)}},{key:\"render\",value:function(){return 1==this.state.continue?(alert(\"Trial completed\"),r.a.createElement(m.a,{to:\"/Complete\"})):r.a.createElement(\"div\",{className:\"Trial\"},r.a.createElement(\"input\",{type:\"hidden\"}),r.a.createElement(\"header\",{className:\"Trial-header\"},r.a.createElement(\"canvas\",{id:\"c\",width:\"256\",height:\"256\",style:{zIndex:\"0\",position:\"fixed\",left:\"25%\",width:\"50%\",height:\"auto\"}}),r.a.createElement(\"canvas\",{id:\"c2\",width:\"256\",height:\"256\",style:{zIndex:\"1\",position:\"fixed\",left:\"25%\",width:\"50%\",height:\"auto\"}})))}}]),t}(a.Component),U=Object(v.c)(function(e){return{data:e.data}},function(e){return{add_response_1:function(t){return e(k(t))},add_response_time_1:function(t){return e(O(t))},add_contrast_1:function(t){return e(S(t))},add_array:function(t){return e(C(t))}}})(q);function G(e,t,n,a){if(a){var r=a.createOscillator(),s=a.createGain();r.connect(s),r.value=t,s.connect(a.destination),s.gain.value=e/100,r.start(a.currentTime),r.stop(a.currentTime+n/1e3)}}var Y=function(){return r.a.createElement(m.d,null,r.a.createElement(m.b,{path:\"/\",exact:!0,component:j}),r.a.createElement(m.b,{path:\"/Welcome\",exact:!0,component:j}),r.a.createElement(m.b,{path:\"/Instructions\",exact:!0,component:N}),r.a.createElement(m.b,{path:\"/Trial\",exact:!0,component:R}),r.a.createElement(m.b,{path:\"/Complete\",exact:!0,component:L}),r.a.createElement(m.b,{path:\"/TrialQ\",exact:!0,component:U}),r.a.createElement(m.b,{component:A}))},W=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:\"render\",value:function(){return r.a.createElement(\"div\",null,r.a.createElement(Y,null))}}]),t}(a.Component),B=n(58),H=n(32),J=n(52),V=n(197),X=n(134),K=n(110),Z=n(111),$={responses_1:[],responses_2:[],response_time_1:[],response_time_2:[],contrast_1:[],contrast_2:[],test:1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ADD_ARRAY\":return e+1;case\"ADD_RESPONSE_1\":return Object(Z.a)({},e,{responses_1:[].concat(Object(K.a)(e.responses_1),[t.payload])});case\"ADD_RESPONSE_TIME_1\":return Object(Z.a)({},e,{response_time_1:[].concat(Object(K.a)(e.response_time_1),[t.payload])});case\"ADD_CONTRAST_1\":return Object(Z.a)({},e,{contrast_1:[].concat(Object(K.a)(e.contrast_1),[t.payload])});default:return e}},te=function(e){return Object(J.c)({data:ee,router:Object(X.a)(e)})},ne=Object(H.a)();var ae=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.d;return Object(J.e)(te(ne),e,t(Object(J.a)(Object(V.a)(ne))))}({history:ne});i.a.render(r.a.createElement(v.a,{store:ae},r.a.createElement(B.a,{history:ne,basename:\"/VCH_APP\"},r.a.createElement(W,null))),document.getElementById(\"root\"))}},[[203,1,2]]]);","extractedComments":[]}